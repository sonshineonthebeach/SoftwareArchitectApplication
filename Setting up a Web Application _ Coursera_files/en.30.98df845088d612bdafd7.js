(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"+lOM":function(module,exports){exports.default={"ar":true,"de":true,"el":true,"es":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"pseudo":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},"06Ht":function(module,exports,e){e("EGbX")},"2RWD":function(module,exports,e){},"2xu1":function(module,e,t){"use strict";t.d(e,"a",(function(){return CoachSmileIcon}));var n,i=t("VkAN"),r=t.n(i),a=t("AeFk"),o=Object(a.c)(n||(n=r()(["\n  .coach-glasses-fill-dark {\n    fill: #000;\n  }\n\n  .coach-glasses-fill-light {\n    fill: #fff;\n  }\n"])));function CoachSmileIcon(e){var t="light"===e.variant?"coach-glasses-fill-light":"coach-glasses-fill-dark";return Object(a.d)("svg",{css:o,xmlns:"http://www.w3.org/2000/svg",viewBox:"120.0 80.0 350.0 350.0",fill:"none",stroke:"none",strokeLinecap:"square",strokeMiterlimit:"10"},Object(a.d)("g",{clipPath:"url(#g1e02e13141a_0_86.0)"},Object(a.d)("path",{className:t,d:"m154.00131 259.74014l0 0c0 -34.65042 28.089722 -62.740143 62.740158 -62.740143l0 0c16.639725 0 32.59793 6.6101074 44.364 18.37616c11.766052 11.7660675 18.37616 27.724274 18.37616 44.363983l0 0c0 34.65045 -28.089722 62.740173 -62.740158 62.740173l0 0c-34.650436 0 -62.740158 -28.089722 -62.740158 -62.740173zm17.99263 0l0 0c0 24.71341 20.03415 44.74756 44.747528 44.74756c24.713379 0 44.747543 -20.03415 44.747543 -44.74756c0 -24.713364 -20.034164 -44.747528 -44.747543 -44.747528l0 0c-24.713379 0 -44.747528 20.034164 -44.747528 44.747528z",fillRule:"evenodd"}),Object(a.d)("path",{className:t,d:"m310.5013 259.74014l0 0c0 -34.65042 28.089722 -62.740143 62.740143 -62.740143l0 0c16.63974 0 32.59793 6.6101074 44.364014 18.37616c11.766052 11.7660675 18.37616 27.724274 18.37616 44.363983l0 0c0 34.65045 -28.089722 62.740173 -62.740173 62.740173l0 0c-34.65042 0 -62.740143 -28.089722 -62.740143 -62.740173zm17.992615 0l0 0c0 24.71341 20.03415 44.74756 44.747528 44.74756c24.71341 0 44.74756 -20.03415 44.74756 -44.74756c0 -24.713364 -20.03415 -44.747528 -44.74756 -44.747528l0 0c-24.713379 0 -44.747528 20.034164 -44.747528 44.747528z",fillRule:"evenodd"}),Object(a.d)("path",{className:t,d:"m257.64163 242.08545l0 0c6.5712585 -14.1698 20.832336 -23.177536 36.450928 -23.02359c15.618622 0.15396118 29.69934 9.441071 35.99002 23.73764l-17.426147 7.6677246c-3.2775574 -7.4487915 -10.613922 -12.287567 -18.751526 -12.367783c-8.137604 -0.080200195 -15.567902 4.6130066 -18.991669 11.995758z",fillRule:"evenodd"}),Object(a.d)("path",{id:"right-eye",cx:"257",cy:"257",className:t,d:"m216.4155 265.64664l0 0c0 -7.566742 6.1340637 -13.700775 13.70079 -13.700775l0 0c3.6336823 0 7.1185303 1.4434662 9.687927 4.012863c2.569397 2.5694122 4.012863 6.054245 4.012863 9.687912l0 0c0 7.566742 -6.1340485 13.700806 -13.70079 13.700806l0 0c-7.5667267 0 -13.70079 -6.1340637 -13.70079 -13.700806z",fillRule:"evenodd"}),Object(a.d)("path",{id:"left-eye",className:t,d:"m343.0373 265.64664l0 0c0 -7.566742 6.1340637 -13.700775 13.700806 -13.700775l0 0c3.633667 0 7.1184998 1.4434662 9.687897 4.012863c2.569397 2.5694122 4.0128784 6.054245 4.0128784 9.687912l0 0c0 7.566742 -6.1340637 13.700806 -13.700775 13.700806l0 0c-7.566742 0 -13.700806 -6.1340637 -13.700806 -13.700806z",fillRule:"evenodd"}),Object(a.d)("path",{className:t,d:"m328.37347 333.21335l0 0c-6.8821106 12.243011 -19.701324 19.95874 -33.7417 20.308746c-14.040344 0.3499756 -27.228088 -6.7174683 -34.71164 -18.602386l8.925354 -5.619995l0 0c5.502655 8.738983 15.199585 13.935669 25.523468 13.678314c10.323883 -0.25732422 19.749847 -5.930725 24.810272 -14.932983z",fillRule:"evenodd"}),Object(a.d)("path",{className:t,d:"m141.76114 235.90277l0 0c0 -5.5532227 4.5017853 -10.055008 10.055008 -10.055008l11.701004 0l0 0c2.6667633 0 5.224289 1.059372 7.10997 2.945053c1.8856812 1.8856812 2.9450378 4.443207 2.9450378 7.109955l0 7.291565c0 5.5532227 -4.50177 10.055008 -10.055008 10.055008l-11.701004 0c-5.5532227 0 -10.055008 -4.5017853 -10.055008 -10.055008z",fillRule:"evenodd"}),Object(a.d)("path",{className:t,d:"m417.23877 235.90277l0 0c0 -5.5532227 4.50177 -10.055008 10.055023 -10.055008l11.700989 0l0 0c2.666748 0 5.224304 1.059372 7.1099854 2.945053c1.8856506 1.8856812 2.9450378 4.443207 2.9450378 7.109955l0 7.291565c0 5.5532227 -4.5018005 10.055008 -10.055023 10.055008l-11.700989 0c-5.553253 0 -10.055023 -4.5017853 -10.055023 -10.055008z",fillRule:"evenodd"}),Object(a.d)("path",{className:t,d:"m319.48215 327.40158l0 0c1.4785767 -2.5309448 4.7289124 -3.3840942 7.259857 -1.9055176l0 0c1.2153931 0.710022 2.0989685 1.8737793 2.4562988 3.23526c0.35736084 1.3614807 0.15924072 2.8091736 -0.55078125 4.0245667l0 0c-1.4785767 2.5309448 -4.7289124 3.3840637 -7.259857 1.9055176l0 0c-2.5309448 -1.4785461 -3.3840637 -4.7289124 -1.9055176 -7.2598267z",fillRule:"evenodd"}),Object(a.d)("path",{className:t,d:"m259.73413 329.27557l0 0c1.4785461 -2.5309448 4.728882 -3.3840637 7.2598267 -1.9055176l0 0c1.2154236 0.7100525 2.0989685 1.8738098 2.4563293 3.2352905c0.35736084 1.3614807 0.1592102 2.8091736 -0.55081177 4.0245667l0 0c-1.4785461 2.5309448 -4.728882 3.3840637 -7.2598267 1.9055176l0 0c-2.5309448 -1.4785767 -3.3840942 -4.7289124 -1.9055176 -7.259857z",fillRule:"evenodd"}),Object(a.d)("path",{className:t,fillOpacity:"0.0",d:"m29.997375 27.0l46.401573 0l0 42.534775l-46.401573 0z",fillRule:"evenodd"})))}},"3blG":function(module,exports,e){},"3w12":function(module,exports,e){},"4Vr2":function(module,exports,e){e("U4Db")},"4suC":function(module,e,t){"use strict";t.r(e);var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t.n(r),o=t("F/us"),s=t.n(o),c=t("8cuT"),u=t("pR6o"),l=t("L1vm"),d=t("sQ/U"),m=t("EdUP"),p=t("17x9"),b=t.n(p),f=t("welz"),g=t.n(f),h=t("RIqP"),v=t.n(h),S=t("Af4h"),y=t.n(S),I=t("47m/"),w=t.n(I),C=t("oYk5"),E=t.n(C),A=t("ZwCU"),O=t.n(A),P=t("BVC1"),T=t("i8i4"),k=t.n(T),R=t("1mBx"),j=t.n(R),N=(t("3Hqd"),t("tta6"));function createMountNode(e){var t=document.getElementById(e);return t||((t=document.createElement("div")).id=e,document.body.appendChild(t)),t}function runTrackingRouter(e,t){return Object(N.a)({routes:e}).then((function(e){return k.a.render(r.createElement(j.a,e),t),e.router}))}var x,D,V,U,ReactRouterAdapter_App=function(e){var t=e.children;return(r.createElement("div",null,x||(x=r.createElement("div",{"data-js":"origami"})),t))};ReactRouterAdapter_App.propTypes={children:r.PropTypes.node};var L=function(e){function NotFoundRedirect(){return e.apply(this,arguments)||this}i()(NotFoundRedirect,e);var t=NotFoundRedirect.prototype;return t.componentWillMount=function(){U.trigger("error",404)},t.render=function(){return null},NotFoundRedirect}(r.Component),ReactRouterAdapter_legacyRouteHandler=function(e,t,n){var a;return(a=function(a){function LegacyRouteHandler(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=a.call.apply(a,[this].concat(n))||this).state={userConfirmed:!1},e.routerWillLeave=function(t){return!!e.state.userConfirmed||(t?(e.setState({nextLocation:t}),U.trigger("routerWillLeave",(function(t){t?e.setState({userConfirmed:t},(function(){e.context.router.push(e.state.nextLocation)})):e.setState({nextLocation:null,userConfirmed:!1})})),!1):void 0)},e}i()(LegacyRouteHandler,a);var o=LegacyRouteHandler.prototype;return o.componentDidMount=function(){this.executeLegacyRoute()},o.componentDidUpdate=function(e){this.props.location.key!==e.location.key&&this.executeLegacyRoute()},o.executeLegacyRoute=function(){var i=t(e,this.context.router.params);n.apply(this,i.concat(this.context.router.location.query)),this.context.router.setRouteLeaveHook(this.props.route,this.routerWillLeave)},o.render=function(){return D||(D=r.createElement("div",null))},LegacyRouteHandler}(r.Component)).propTypes={location:r.PropTypes.object.isRequired,route:r.PropTypes.object.isRequired},a.contextTypes={router:r.PropTypes.object.isRequired},a},M=U=new(function(){function ReactRouterAdapter(){this.routes={},this.nativeRoutes=[],this.visitedFragments=[],O.a.emitter(this)}var e=ReactRouterAdapter.prototype;return e.addRoutes=function(e,t){t?Object.assign(this.routes,s()(e).mapObject(t)):Object.assign(this.routes,e)},e.addNativeRoutes=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.nativeRoutes.push(e)},e.getLegacyRoutes=function(e){var t=this;return s()(this.routes).map((function(n,i){return i?r.createElement(w.a,{key:i,path:i,component:ReactRouterAdapter_legacyRouteHandler(i,t.getLegacyRouteParams,n)}):r.createElement(y.a,{key:"index:".concat(e),component:ReactRouterAdapter_legacyRouteHandler(i,t.getLegacyRouteParams,n)})}))},e.getRoutes=function(e){if(!this.getLegacyRoutes(e).length&&this.nativeRoutes.length)return this.nativeRoutes;var t=[].concat(v()(this.getLegacyRoutes(e)),v()(this.nativeRoutes),[V||(V=r.createElement(w.a,{path:"*",key:"notFoundRoute",component:L}))]);return(r.createElement(w.a,{path:e,component:ReactRouterAdapter_App},t))},e.getLegacyRouteParams=function(e,t){var n=e.match(/\:\w*/g);return n?s()(n).chain().compact().invoke("slice",1).reduce((function(e,n){return e.concat(t[n])}),[]).value():[]},e.setupLinks=function(e,t){this.routePrefix=e,this.linkSelector=t,E()("body").on("click","a"+this.linkSelector,function(e){e.ctrlKey||e.metaKey||(e.preventDefault(),this.navigate(E()(e.currentTarget).attr("href"),!0))}.bind(this))},e.navigate=function(e,t){var n=e;0!==n.indexOf(this.routePrefix)&&(n=P.a.join(this.routePrefix,n)),t&&t.replace||this.addFragmentToVisited(n),!0===t||t&&!0===t.trigger?t&&t.replace?this.rr.replace(n):this.rr.push(n):t&&t.replace?window.history.replaceState(null,null,n):window.history.pushState(null,null,n)},e.navigateTo=function(e,t){if(!e&&""!==e)throw new Error("router.navigateTo received no href");this.navigate(e.replace(this.routePrefix,""),t)},e.addFragmentToVisited=function(e){this.visitedFragments.push(e)},e.start=function(e,t){var n=this,i=createMountNode("rendered-content");runTrackingRouter(this.getRoutes(e),i).then((function(e){n.rr=e}))},ReactRouterAdapter}()),G=t("3tO9"),B=t.n(G),q=t("cDf5"),H=t.n(q),F=t("S+eF"),W=t.n(F),z=t("rC9M"),Y=t.n(z),Q=function(e){function ContextProvider(t){var n;n=e.call(this,t)||this;var i={};return Object.keys(t.customContext).forEach((function(e){i[e]=b.a.any})),ContextProvider.childContextTypes=B()(B()({},ContextProvider.childContextTypes),i),n}i()(ContextProvider,e);var t=ContextProvider.prototype;return t.getChildContext=function(){return Object.assign({},this.props.customContext)},t.render=function(){return r.cloneElement(this.props.children,this.props)},ContextProvider}(r.Component);Q.displayName=Q,Q.childContextTypes={};var J=Q,K=t("5lq0");function provideRequestCountryCode(e){var t=e.displayName||e.name,n=function(t){function RequestCountryCodeContextProvider(){return t.apply(this,arguments)||this}i()(RequestCountryCodeContextProvider,t);var n=RequestCountryCodeContextProvider.prototype;return n.getChildContext=function(){return{requestCountryCode:K.a}},n.render=function(){return r.createElement(e,this.props)},RequestCountryCodeContextProvider}(r.Component);return n.displayName=t+"RequestCountryCodeContextProvider",n.childContextTypes={requestCountryCode:b.a.string},n}var X=t("ROEb"),Z=t("zdiy"),ee=t.n(Z),te=t("JpaV"),ne=t.n(te),ie=t("HTi0"),re={defaults:{autofocus:!0,"bind.open":"click","bind.close":"click","bind.action":"click","attribute.open":"data-modal","attribute.close":"data-modal-close","attribute.iframe":"data-modal-iframe","attribute.action":"data-modal-action","attribute.focus":"data-modal-focus","attribute.focus.index":1e4,"animate.modal.open":null,"animate.modal.close":null,"animate.modal.duration":250,"animate.overlay.open":null,"animate.overlay.close":null,"animate.overlay.duration":250,"overlay.show":!0,"overlay.class":"overlay","overlay.close":!0,"z.index":9999,"position.top":"50%","position.left":"50%",position:"fixed","iframe.autoclose":!0},$overlay:null,count:0,prevScroll:null,prevModal:null,getModal:function(e,t){var n=E()(e).data("modal.me");return n&&n.constructor==modals_Modal.prototype.constructor?t?n.customize(t):n:null},makeModal:function(e,t){var n=E()(e),i=re.getModal(n);return i||(i=new modals_Modal(n,t),n.data("modal.me",i)),i},setOverlayHeight:function(){E()(window).height()<E()(document).height()?re.$overlay.css({height:E()(document).height()+"px"}):re.$overlay.css({height:"100%"})},observeKeyPress:function(e){this.options["overlay.close"]&&(27==e.keyCode||27==e.DOM_VK_ESCAPE&&0===e.which)&&(this.emitter.trigger("action",!1,this),this.close()),this.emitter.trigger("key",e)},cycleTabs:function(e){var t=this.$el.find("a,input,select,textarea,button").filter(":visible");9==e.keyCode&&E()(e.target).is(t.last())&&window.setTimeout((function(){t.first().focus()}),0)},actionTrigger:function(e){var t=E()(e.currentTarget).attr(this.options["attribute.action"]);this.emitter.trigger("action",t,this)},open:function(){if("fixed"!=this.options.position&&(re.prevScroll={top:E()(document).scrollTop(),left:E()(document).scrollLeft()},window.scrollTo(0,0)),this.$iframe){var e=this.options["iframe.url"]||E()(this.anchor).attr(this.options["attribute.iframe"]);this.$iframe.attr("src",e),this.$iframe.focus()}else{for(var t=this.$el.find("["+this.options["attribute.focus"]+"]"),n=this.$el.find("a,input,select,textarea,button"),i=0;i<n.length;i++)n.eq(i).attr("tabindex",this.options["attribute.focus.index"]+1+i);this.options.autofocus&&(t.size()>0?(t.filter(":visible").eq(0).attr("tabindex",this.options["attribute.focus.index"]),t.filter(":visible").eq(0).focus()):n.size()>0&&(n.filter(":visible").eq(0).attr("tabindex",this.options["attribute.focus.index"]),n.filter(":visible").eq(0).focus()))}this.state=1,this.$el.on(this.options["bind.action"],"["+this.options["attribute.action"]+"]",ne()(re.actionTrigger,this)),this.emitter.trigger("open")},close:function(){var e=this.$el.find("iframe");this.$el.off(".modal").hide(),this.options["iframe.autoclose"]&&e.size()&&e.attr({src:"about:blank"}),re.prevScroll&&(window.scrollTo(re.prevScroll.left,re.prevScroll.top),re.prevScroll=null),this.anchor=null,this.$parent.append(this.$el),this.state=0,this.emitter.trigger("close")}},modals_Modal=function(e,t){this.$el=E()(e),this.state=0,this.$parent=this.$el.parent(),this.customize(t),this.emitter=O.a.emitter(this)};modals_Modal.prototype.customize=function(e){return this.options=ee()({},ie.a.parse(this.$el,re.defaults,"data-modal-"),e),this},modals_Modal.prototype.open=function(){var e,t=this;if(this.anchor&&(e=E()(this.anchor).attr(this.options["attribute.iframe"])),this.options["iframe.url"]&&(e=this.options["iframe.url"]),e&&(this.$iframe=this.$el.find("iframe"),/^https?:\/\/|^\/|^\.\.\//.test(e)&&(this.$iframe.size()&&this.$iframe.attr("src")==e||(this.$iframe.attr("src","about:blank").remove(),this.$iframe=E()("<iframe>").css({height:"100%",width:"100%"}).attr({scrolling:"no",frameborder:0}),this.$el.append(this.$iframe),0!=this.state&&this.$iframe.attr("src",e)))),0==this.state)return this.options["overlay.show"]&&(re.$overlay&&"none"!=re.$overlay.css("display")&&re.$overlay.hasClass(this.options["overlay.class"])?this.$overlay=re.$overlay:(re.$overlay&&re.$overlay.off(".modal").hide().remove(),this.$overlay=re.$overlay=E()("<div>").addClass(this.options["overlay.class"]).hide(),this.$overlay.css({position:"fixed",width:"100%",top:0,left:0,right:0,bottom:0,zIndex:this.options["z.index"]++}),E()("body").append(this.$overlay)),re.setOverlayHeight(),this.reposition(),this.options["animate.overlay.open"]?this.$overlay.animate(this.options["animate.overlay.open"],{duration:this.options["animate.overlay.duration"]}):this.$overlay.show(),re.count++,this.$overlay.data("modal",this)),this.emitter.trigger("opening"),"fixed"==this.options.position&&0!==this.$el.closest("html").length||this.$el.appendTo("body"),this.reposition(),this.$el.show(),this.options["animate.modal.open"]?this.$el.animate(this.options["animate.modal.open"],{duration:this.options["animate.modal.duration"],complete:function(){re.open.call(t)}}):re.open.call(this),E()(window).on("resize.modal",ne()(re.setOverlayHeight,t)).on("resize.modal",ne()(t.reposition,t)).on("scroll.modal",ne()(t.reposition,t)),this.$el.on("keydown.modal",ne()(re.cycleTabs,t)),E()(window).on("keyup.modal",ne()(re.observeKeyPress,t)),this.options["overlay.close"]&&this.$overlay.on(this.options["bind.close"]+".modal",(function(e){t.emitter.trigger("action",!1,t),t.close()})),this.options["attribute.close"]&&this.$el.on(this.options["bind.close"]+".modal","["+this.options["attribute.close"]+"]",(function(e){var n=E()(e.currentTarget);"disabled"!=n.attr("disabled")&&(void 0===n.attr(t.options["attribute.action"])&&t.emitter.trigger("action",!1,t),t.close())})),this},modals_Modal.prototype.reposition=function(){var e=this.options["position.left"],t=this.options["position.top"];return e&&this.$el.css({position:this.options.position,left:e,marginLeft:/%/.test(e)?this.$el.outerWidth()/2*-1:0,zIndex:this.options["z.index"]++}),t&&this.$el.css({position:this.options.position,top:t,marginTop:/%/.test(t)?this.$el.outerHeight()/2*-1:0,zIndex:this.options["z.index"]++}),this},modals_Modal.prototype.close=function(){var e=this;if(1==this.state&&!1!==this.trigger("closeRequest"))return this.$el.off(".modal"),E()(window).off(".modal"),this.emitter.trigger("closing"),this.options["animate.modal.close"]?this.$el.animate(this.options["animate.modal.close"],{duration:this.options["animate.modal.duration"],complete:function(){re.close.call(e)}}):re.close.call(this),0==--re.count&&this.options["overlay.show"]&&this.$overlay&&(this.$overlay.off(".modal"),this.options["animate.overlay.close"]?this.$overlay.animate(this.options["animate.overlay.close"],{duration:this.options["animate.overlay.duration"],complete:function(){this.$overlay.hide().remove()}}):this.$overlay.hide().remove()),this};var external=function(){return re.getModal.apply(null,arguments)||re.makeModal.apply(this,arguments)};external.start=function(e,t){var n=E()(e),i=ee()({},re.defaults,t);n.data("modals-initialized")||(n.data("modals-initialized",1),n.on(i["bind.open"]+".modal","["+i["attribute.open"]+"]",(function(e){var t=E()(this),r=t.attr(i["attribute.open"]),a=n.find(r);i=ee()({},i,ie.a.parse(a,re.defaults,"data-modal-"));var o=re.getModal(a,i)||re.makeModal(a,i);!/^https?:\/\/|^\/|^\.\.\//.test(t.attr("href"))||e.ctrlKey||e.metaKey||e.preventDefault(),o.anchor=this,re.prevModal=a[0],o.open()})))},external.stop=function(e){var t=E()(e);t.unbind(".modal"),t.data("modals-initialized",0),re.prevModal&&modals_Modal(re.prevModal).close()},external.start("body");var ae=external;g.a.View.prototype._super=function(e){return this.constructor.__super__[e].apply(this,s.a.rest(arguments))};var oe=null,se={current:null,body:"#origami",views:{},openDepth:0,beforeUnloadMessage:"There are unsaved changes that will be lost if you reload or leave this page.",regionHasUnsavedModel:function(e){if(!e)return!1;if(!(!e.view||!e.view.hasUnsavedModel)&&e.view.hasUnsavedModel())return!0;for(var t in e.regions){var n=e.regions[t];if(se.regionHasUnsavedModel(n))return!0}return!1}},ce=g.a.Router.extend({initialize:function(){this.routePrefix="",this.visitedFragments=[],this.$confirmNavigation=E()(Y()({})),E()("body").append(this.$confirmNavigation),E()(window).on("beforeunload.origami",(function(){if(se.regionHasUnsavedModel(se.current))return se.beforeUnloadMessage}))},setupLinks:function(e,t){var n=this;this.routePrefix=e,this.linkSelector=t,E()("body").on("click","a"+this.linkSelector,(function(e){e.ctrlKey||e.metaKey||(e.preventDefault(),n.navigateTo(E()(e.currentTarget).attr("href"),!0))}))},addFragmentToVisited:function(e,t){"object"===H()(t)&&t.replace||(this.visitedFragments?this.visitedFragments.push(e):this.visitedFragments=[e])},navigateTo:function(e,t){e||X.a.error("router.navigateTo received no href"),this.navigate(e.replace(this.routePrefix,""),t)},navigate:function(e,t){if(se.current&&se.regionHasUnsavedModel(se.current)){E()(".confirm-navigation-message").text(se.beforeUnloadMessage),E()(".confirm-navigation-leave").one("click",function(n){this.addFragmentToVisited(e),g.a.Router.prototype.navigate.call(n.currentTarget,e,t)}.bind(this));ae(".confirm-navigation",{"overlay.class":"coursera-overlay"}).open()}else this.addFragmentToVisited(e,t),g.a.Router.prototype.navigate.call(this,e,t)},addRoutes:function(e,t){var n=this;for(var i in e){var r=e[i];t&&(r=t(r)),n.route(i,i,r),n.route(i+"/",i+"/",(function(){var e=g.a.history.getFragment().replace(/\/(?:\?.*)*$/,"");n.navigate(e,{trigger:!0,replace:!0})}))}},start:function(e){g.a.history.start({pushState:!0,hashChange:!1,root:e})||this.trigger("error",404)},unsavedWarningModal:function(e){if(se.current&&se.regionHasUnsavedModel(se.current)){E()(".confirm-navigation-message").text(se.beforeUnloadMessage);var t=ae(".confirm-navigation",{"overlay.class":"coursera-overlay"});t.once("action",(function(t){e(t)})),t.open()}else e(!0)}}),backbone_origami_region=function(e,t){var n=t||{};this.type=e,this.regions=n.regions||{},this.initialize=n.initialize||{},this.to=n.to,this.options={},this.props=t.props||{},this.context=t.context||{},this.fluxibleContext=t.fluxibleContext,this.reactRouter=t.reactRouter,this.id=n.id||e.prototype.name,this.name=e.prototype.name||n.name,this.view=null,this.regions=E.a.extend({},e.prototype.subregions,n.regions||{})};backbone_origami_region.prototype.close=function(e){var t=this;s.a.each(t.regions,(function(n,i){delete t.regions[i],n&&n.close(e)})),t.view.trigger("view:closed"),e||t.view.remove(),t.view.undelegateEvents(),t.view.off("view")},backbone_origami_region.prototype.closing=function(){this.view.trigger("view:closing"),delete se.views[this.view.cid]},backbone_origami_region.prototype.render=function(e){var t=this,n=s.a.compact(s.a.values(t.regions));return s.a.each(n,(function(e){e.render(),e.parent=t})),this.type.prototype.isReactComponent?(this.kind="react_region",this.renderReactComponent()):(this.kind="backbone_region",this.renderBackboneView()),s.a.each(n,(function(e){var n=e.view&&e.view.el,i=e.to||e.view&&e.view.to;s.a.isFunction(i)&&(i=i()),i&&!E.a.contains(document,n)&&(t.view.$(i).append(n),e.appended())})),e&&t.view.on("view:appended",(function(){e.trigger("region:appended",{name:t.name})})),t},backbone_origami_region.prototype.renderBackboneView=function(){this.view=new this.type(this.initialize),this.view.region=this,this.view.render(this.render)},backbone_origami_region.prototype.renderReactComponent=function(){var e=this.context.fluxibleContext,t=this.context.router,n=Object.assign({},e?B()({fluxibleContext:e},e):{},t?{router:t}:{}),i=s.a.compose(provideRequestCountryCode)(this.type);this.view=new g.a.View,this.view.region=this;var r=a.a.createElement(J,{customContext:n},a.a.createElement(i,this.props));this.view.remove=function(){return k.a.unmountComponentAtNode(this.el),g.a.View.prototype.remove.call(this),this},this.view.on("view:appended",(function(){k.a.render(r,this.el)}))},backbone_origami_region.prototype.appended=function(){var e=this;e.view&&setTimeout((function(){e.view.trigger("view:appended")}),0)},backbone_origami_region.prototype.append=function(e,t){var n=this,i=W.a.defer();this.regions||(this.regions={});var renderAndAppend=function(r){for(var a,o=e,c=0;n.regions[o];)o+=++c;if(n.regions[o]=r,r.render(oe),a=t.to?s.a.isElement(t.to)?n.view.$(t.to):t.to:n.view.$el,s()(t).has("position")){var u=a.children().eq(t.position);u.length>0?E()(u[0]).before(r.view.el):a.append(r.view.el)}else a.append(r.view.el);r.appended(),oe.renderedRegions.push(r),oe.trigger("region:rendered",{name:r}),i.resolve(r)};return void 0!==e&&("string"==typeof e?oe.region.fetch(e,t,renderAndAppend):renderAndAppend(new backbone_origami_region(e,t))),i.promise},backbone_origami_region.prototype.is=function(e){return e.type==this.type&&e.id==this.id},backbone_origami_region.prototype.replace=function(e,t){this.view.$el.replaceWith(e.view.el),t&&t()},backbone_origami_region.prototype.merge=function(e,t){var n=this;n.is(e)?s.a.each(e.regions,(function(e,i){var r=n.regions[i];r&&e?(r.view.trigger("view:merging",e.initialize),r.merge(e,t),r.view.trigger("view:merged",e.initialize)):r&&!e&&(r.closing(),r.parent&&delete r.parent.regions[r.name],r.close())})):n.name==e.name&&(n.closing(),e.render(t),n.replace(e,(function(){n.parent&&(n.parent.regions[e.name]=e,e.parent=n.parent,n.parent.appended()),n.close(),e.appended()})))};var backbone_origami_Origami=function(e,n){if(oe)return oe;this.renderedRegions=[],oe=this,se.body=e,se.current=n,E()(window).on("resize",(function(){for(var e in se.views)se.views[e].trigger("view:resize")})),this.region={make:function(e,t){return new backbone_origami_region(e,t)},fetch:function(e,n,i){var r=s.a.uniqueId();oe.trigger("region:fetching",{name:e,uid:r});var returnRegion=function(t){oe.trigger("region:fetched",{name:e,uid:r}),i(new backbone_origami_region(t,n))},module=n.module,a=n.async;if(module&&module.lazy||module&&a)module(returnRegion);else if(module)returnRegion(module);else{var o,c;c=null!==(o=jest)&&void 0!==o&&o.requireActual?function(e,n){return n(t("AbQT")(e[0]))}:void 0,oe.trigger("deprecatedUsage",{type:"asyncRequire",name:e}),c([e],returnRegion)}},getSingleton:function(){return oe},append:function(e,t,n,i){e||(e={regions:{}});var renderAndAppend=function(n){for(var r=t,a=0;e.regions[r];)r+=++a;return e.regions[r]=n,n.render(oe),i&&i(n),n.appended(),oe.renderedRegions.push(n),oe.trigger("region:rendered",{name:n}),n};if(void 0!==t){if("string"!=typeof t)return renderAndAppend(new backbone_origami_region(t,n));oe.region.fetch(t,n,renderAndAppend)}},open:function(e,t){var n=e,i={};0===se.openDepth&&oe.trigger("open"),se.openDepth++;var onFetch=function(e){var n=[];s.a.each(e.regions,(function(t,i){if(t){var r=W.a.defer();oe.region.open(t,(function(t){"backbone_region"==t.kind&&i!=t.name&&X.a.error("Region configured with name "+i+" but has name "+t.name),e.regions[i]=t,r.resolve(t)})),n.push(r.promise)}})),W.a.allSettled(n).then((function(){if(t)return t(e);if(se.current){if(se.current.is(e))return void se.current.merge(e,oe);if(se.current.name==e.name)return e.render(oe),void se.current.replace(e,(function(){se.current.close(),se.current=e,se.current.appended()}));se.current.close(!0)}oe.dontRender||(se.current=e,E()(se.body).html(se.current.render(oe).view.$el),se.current.appended())})).done((function(){--se.openDepth<=0&&(oe.on("close",(function(){oe.renderedRegions=[],se.current&&(se.current.view.once("view:closed",(function(){se.current=void 0})),se.current.close.call(se.current))})),oe.trigger("opened"))}))};backbone_origami_region.prototype.isPrototypeOf(e)?onFetch(e):(s.a.isObject(e)&&(i=e[n=s.a.keys(e)[0]]),oe.region.fetch(n,i,onFetch))}},this.interruptRender=function(){this.dontRender=!0}.bind(this),this.cancelInterrupt=function(){this.dontRender=!1}.bind(this),this.router=new ce,this.store={},this.tracker=[]};s.a.extend(backbone_origami_Origami.prototype,g.a.Events);var ue=backbone_origami_Origami,le=t("DzKf"),de=new ue("[data-js=origami]");de.router.on("route",(function(){Object(le.b)()})),de.enableRR=function(){var e=de.router;de.router=M,de.router.on("routerWillLeave",(function(t){e.unsavedWarningModal(t)})),g.a.history={}},de.on("deprecatedUsage",le.a);var me=de;function ScrollTracker(e,t){this.scrollHash=s.a.extend({},e),this.ROUTE_EVENT=t&&t.routeEvent||"route",this.$el=E()(window)}function _getCurrentRoute(){return(g.a.history.fragment||"").replace(/[#?].+/g,"")}function _updateRoute(){this.lastRoute=_getCurrentRoute()}ScrollTracker.prototype.start=function(e){this.router=e,_updateRoute.call(this),this.router.on(this.ROUTE_EVENT,function(e,t){this.set(this.lastRoute),_updateRoute.call(this)}.bind(this))},ScrollTracker.prototype.stop=function(){this.router.off(this.ROUTE_EVENT)},ScrollTracker.prototype.get=function(e){return void 0===e&&(e=_getCurrentRoute()),this.scrollHash[e]||0},ScrollTracker.prototype.set=function(e){void 0===e&&(e=_getCurrentRoute()),this.scrollHash[e]=this.$el.scrollTop()},ScrollTracker.prototype.restore=function(e){this.$el.scrollTop(this.get(e))},ScrollTracker.prototype.scroll=function(e){this.$el.scrollTop(e),this.set()};var pe=new ScrollTracker;pe.start(me.router);var be=pe,fe=function(e){function AssignmentSubmitWrapper(){return e.apply(this,arguments)||this}i()(AssignmentSubmitWrapper,e);var t=AssignmentSubmitWrapper.prototype;return t.componentDidMount=function(){be.scroll(0)},t.render=function(){return this.props.isSubmitted?this.props.submittedView:this.props.editView},AssignmentSubmitWrapper}(r.Component);fe.propTypes={isSubmitted:b.a.bool.isRequired,submittedView:b.a.node.isRequired,editView:b.a.node.isRequired};var ge,he,ve,Se=fe,ye=t("VMeS"),Ie=t("JAmU"),we=t("pVnL"),Ce=t.n(we),Ee=t("J4zp"),Ae=t.n(Ee),Oe=t("Y+p1"),Pe=t.n(Oe),Te=t("sEfC"),ke=t.n(Te),Re=t("AeFk"),je=t("+LJP"),Ne=t("kwmr"),xe=t("W1i5"),_e=t("fAYU"),De=t("HulD"),Ve=t("gNwb"),Ue=t("HXet"),Le=t.n(Ue),Me=Object(Ve.e)({type:"BUTTON"})(_e.a),components_HonorCodeNotification=function(){return r.createElement(De.a,{inlineAction:r.createElement(Me,{href:"https://learner.coursera.help/hc/articles/209818863",variant:"quiet",typographyVariant:"body1",target:"_blank",rel:"noopener noreferrer",trackingName:"clicked_link_to_honor_code",role:"link"},Le()("View Honor Code")),severity:"information"},Le()("Protect the academic integrity of your work and that of fellow learners by following Coursera’s Honor Code."))},Ge=t("HOoY");!function(e){e.GIBBERISH="GIBBERISH",e.TEXTSIMILARITY="TEXTSIMILARITY"}(ge||(ge={})),function(e){e.TEXT="TEXT",e.FILE="FILE"}(he||(he={})),function(e){e.INTEGRITY_CHECK_ACTIVE="INTEGRITY_CHECK_ACTIVE",e.INTEGRITY_CHECK_NONE="INTEGRITY_CHECK_NONE",e.INTEGRITY_CHECK_PASSIVE="INTEGRITY_CHECK_PASSIVE"}(ve||(ve={}));var Be,qe=t("Qp/S"),integrityStatusHelper_hasPlagiarism=function(e){return!!e&&!!e.deterredChecks.find((function(e){return e===ge.TEXTSIMILARITY}))},integrityStatusHelper_hasGibberish=function(e){return!!e&&!!e.deterredChecks.find((function(e){return e===ge.GIBBERISH}))},integrityStatusHelper_isActiveDetterence=function(e){return!!e&&e.deterrence===ve.INTEGRITY_CHECK_ACTIVE},integrityStatusHelper_getOrderedChecks=function(e){var t=[];return Object(qe.b)(e)&&t.push({checkType:ge.GIBBERISH,withFiltering:!0}),Object(qe.f)(e)&&t.push({checkType:ge.TEXTSIMILARITY,withFiltering:!0}),t},hasPlagiarismInSomeParts=function(e){return!(!e||e.length<=0)&&e.some(integrityStatusHelper_hasPlagiarism)},hasGibberishInSomeParts=function(e){return!(!e||e.length<=0)&&e.some(integrityStatusHelper_hasGibberish)},integrityStatusHelper_processIntegrityStatusResults=function(e){var t,n,i=e.courseId,r=e.eventData,a=e.integrityContext,o=e.latestSubmissionAndRelated,s=e.integrityStatus,c=e.scrollToTop,u=e.showSubmitDialog,l=null==s?void 0:null===(t=s.IntegrityCheck)||void 0===t?void 0:t.queryIntegrityChecks,m=o.submission,p=m.versionedAssignmentId,b=m.definition.parts,f=null!==(n=null==p?void 0:p.split("@"))&&void 0!==n?n:[],g=Ae()(f,1)[0];a.setAssignmentId(g),a.setScoreResults(l),(hasPlagiarismInSomeParts(null==l?void 0:l.promptResults)||hasGibberishInSomeParts(null==l?void 0:l.promptResults))&&c(),u();var h={user_id:d.a.get().id,course_id:i,peer_assignment_id:g};integrityStatusHelper_isActiveDetterence(l)&&hasPlagiarismInSomeParts(null==l?void 0:l.promptResults)&&Ge.a.trackComponent(r,h,"simtext_active_deterrence","deterrence"),integrityStatusHelper_isActiveDetterence(l)&&hasGibberishInSomeParts(null==l?void 0:l.promptResults)&&Ge.a.trackComponent(r,h,"gibberish_active_deterrence","deterrence"),null==l||l.promptResults.forEach((function(e){var t,n=null===(t=b[e.promptId])||void 0===t?void 0:t.typeName,i=B()(B()({},h),{},{peer_assignment_submission_schema_part_id:e.promptId});integrityStatusHelper_hasPlagiarism(e)&&("fileUpload"===n?Ge.a.trackComponent(r,i,"file_upload_deterrence","deterrence"):"richText"===n&&Ge.a.trackComponent(r,i,"simtext_deterrence","deterrence")),integrityStatusHelper_hasGibberish(e)&&Ge.a.trackComponent(r,i,"gibberish_deterrence","deterrence")}))},He=Object(r.createContext)({isChecking:!1,scoreResults:void 0,assignmentId:void 0,hasLocalChanges:!1,clearPartResult:function(){},setScoreResults:function(){},setIsChecking:function(){},setHasLocalChanges:function(){},setAssignmentId:function(){},getHasPlagiarismInPart:function(){return!1},getHasGibberishInPart:function(){return!1},getHasPlagiarismInSubmission:function(){return!1},getHasGibberishInSubmission:function(){return!1},getShouldDeterLearnerFromSubmitting:function(){return!1},clearResults:function(){}}),IntegrityStatusContextProvider_useIntegrityStatusContext=function(){return Object(r.useContext)(He)},IntegrityStatusContextProvider_IntegrityStatusContextProvider=function(e){var t=e.children,n=Object(r.useState)(!1),i=Ae()(n,2),a=i[0],o=i[1],s=Object(r.useState)(!1),c=Ae()(s,2),u=c[0],l=c[1],d=Object(r.useState)(void 0),m=Ae()(d,2),p=m[0],b=m[1],f=Object(r.useState)(void 0),g=Ae()(f,2),h=g[0],v=g[1];return r.createElement(He.Provider,{value:{scoreResults:h,isChecking:a,assignmentId:p,hasLocalChanges:u,setHasLocalChanges:l,setIsChecking:o,setScoreResults:v,setAssignmentId:b,getHasPlagiarismInPart:function(e){var t,n=null==h?void 0:null===(t=h.promptResults)||void 0===t?void 0:t.find((function(t){return t.promptId===e}));return integrityStatusHelper_hasPlagiarism(n)},getHasGibberishInPart:function(e){var t=null==h?void 0:h.promptResults.find((function(t){return t.promptId===e}));return integrityStatusHelper_hasGibberish(t)},getHasPlagiarismInSubmission:function(){return hasPlagiarismInSomeParts(null==h?void 0:h.promptResults)},getHasGibberishInSubmission:function(){return hasGibberishInSomeParts(null==h?void 0:h.promptResults)},getShouldDeterLearnerFromSubmitting:function(){return integrityStatusHelper_isActiveDetterence(h)},clearResults:function(){v(void 0),l(!1)},clearPartResult:function(e){var t;if(h){var n=null===(t=h.promptResults)||void 0===t?void 0:t.filter((function(t){return t.promptId!==e}));v(B()(B()({},h),{},{promptResults:n}))}}}},t)},Fe=t("VkAN"),We=t.n(Fe),$e=t("Gcrz"),ze=t("Lm/n"),Ye=t("UYTu"),Qe=Object(Ye.a)(Be||(Be=We()(["\n  query GetIntegrityStatus(\n    $submission: IntegrityCheck_SubmissionInput!\n    $orderedChecks: [IntegrityCheck_StageDefinitionInput!]!\n  ) {\n    IntegrityCheck {\n      queryIntegrityChecks(submission: $submission, orderedChecks: $orderedChecks) {\n        deterrence\n        promptResults {\n          promptId\n          deterredChecks\n        }\n      }\n    }\n  }\n"]))),api_IntegrityStatusAPI=function(e){var t=e.children,n=e.queryData,i=e.onDataLoaded;return r.createElement($e.c,{query:Qe,notifyOnNetworkStatusChange:!0,fetchPolicy:"no-cache",variables:n,skip:!n,context:{clientName:"gatewayGql"},onCompleted:function(e){var t;null!=e&&null!==(t=e.IntegrityCheck)&&void 0!==t&&t.queryIntegrityChecks?i(e):i(void 0)},onError:function(){i(void 0)}},(function(){return t}))},Je=t("E+oP"),Ke=t.n(Je),parseRichText=function(e){return"cml"===(null==e?void 0:e.typeName)?e.definition.value:"html"===(null==e?void 0:e.typeName)?e.definition:e};function createIntegrityQuery(e){var t,n=e.submission,i=n.definition,r=n.versionedAssignmentId,a=["richText","plainText"];Object(qe.a)()&&a.push("fileUpload");var o=i.parts,s=Object.entries(o).filter((function(e){var t=Ae()(e,2)[1];return a.includes(t.typeName)})).map((function(e){var t=Ae()(e,2),n=t[0],i=t[1],r=i.typeName,a=i.definition,o={};if("fileUpload"===r&&!Ke()(a.fileUrl)){var s=a.fileUrl;return Ke()(s)?o:{promptId:n,content:{typeTag:he.FILE,fileUrl:a.fileUrl}}}var c="richText"===r?parseRichText(a.richText):a.plainText;return Ke()(c)?o:{promptId:n,content:{typeTag:he.TEXT,textContent:c}}})).filter((function(e){return!Ke()(e.promptId)})),c=null!==(t=null==r?void 0:r.split("@"))&&void 0!==t?t:[],u=Ae()(c,2),l=u[0],m=u[1];return{assignmentId:l,submitterId:String(d.a.get().id),prompts:s,version:Number(m)}}var Xe=t("+c4W"),Ze=t.n(Xe),et=t("MJIl"),tt=t.n(et),nt=t("3WF5"),it=t.n(nt),rt=t("mRsi"),at=t.n(rt),ot=t("TSYQ"),st=t.n(ot),ct=t("yhVA"),ut=t.n(ct),lt=function(e){function AssignmentSubmitAlertsView(){return e.apply(this,arguments)||this}return i()(AssignmentSubmitAlertsView,e),AssignmentSubmitAlertsView.prototype.render=function(){var e=this.props,t=e.isSubmitted,n=e.submissionAppState,i=n.submitState,a=n.saveState,o=n.showValidation,s=n.errorMessage,c=e.errorTree;if(!c||!o)return null;if(t)return r.createElement("div",{className:"rc-AssignmentSubmitAlertsView"},ut()("Your work is submitted."));var u=tt()(AssignmentSubmitAlertsView.getAllErrors(c),Ze()("blocksSubmit")),l=!!s,d=!s&&"ready"===i&&"ready"===a&&u,m=!s&&"saveError"===a&&!s,p=!s&&"submitError"===i&&"ready"===a&&u,b=!s&&"submitError"===i&&"ready"===a&&!u,f=st()("rc-AssignmentSubmitAlertsView","bt3-alert",{"bt3-alert-warning":d,"bt3-alert-danger":l||m||p||b});return l||d||m||p||b?r.createElement("div",{className:f},l&&r.createElement("span",null,s),p&&r.createElement("span",null,ut()("Error submitting assignment: please fix the errors below before submitting.")),d&&r.createElement("span",null,ut()("Your assignment was saved, but please fix the errors below before submitting.")),b&&r.createElement("span",null,ut()("Your assignment was saved, but an unknown error occurred while submitting.\n              Please refresh the page and try again.")),m&&r.createElement("span",null,ut()("Save error. Please try again."))):null},AssignmentSubmitAlertsView}(r.Component);lt.getAllErrors=function(e){if(!e)return[];var t=at()(it()(e.children,(function(e){return lt.getAllErrors(e)})));return e.errors.concat(t)};var dt,mt,pt,bt,ft,gt,ht=lt,AssignmentEditView=function(e){var t=e.submissionAppState,n=e.errorTree,i=e.isSubmitted,a=e.children;return(r.createElement("div",{className:"rc-AssignmentEditView rc-AssignmentSubmit"},r.createElement(ht,{isSubmitted:i,submissionAppState:t,errorTree:n}),r.createElement("div",null,a)))},vt=t("xPfO"),St=t("hbUA"),yt=t("IG+7"),It=t("5ijc"),wt=t("Zr0k"),Ct=t("xmcF"),Et=t("tVsT"),At=t("ZSJn"),Ot=function(e){function AlicePeerReviewSaveEvent(t){var n,i=t.courseBranchId,r=t.itemId;return(n=e.call(this,{type:Et.g,courseBranchId:i})||this).itemId=r,n.id="".concat(Et.g,"~").concat(i,"~").concat(r),n}return i()(AlicePeerReviewSaveEvent,e),AlicePeerReviewSaveEvent}(At.a),Pt=function(e){function AlicePeerReviewSubmitEvent(t){var n,i=t.courseBranchId,r=t.itemId;return(n=e.call(this,{type:Et.h,courseBranchId:i})||this).itemId=r,n.id="".concat(Et.h,"~").concat(i,"~").concat(r),n}return i()(AlicePeerReviewSubmitEvent,e),AlicePeerReviewSubmitEvent}(At.a),Tt=Object(Ct.a)((function(e){var t=e.itemId,n=e.courseBranchId,i=(e.courseId,e.hasSaved),r=e.hasSubmitted;return i?new Ot({courseBranchId:n,itemId:t}):r?new Pt({courseBranchId:n,itemId:t}):null}),(function(e){return{course_id:e.courseId}}))((function(){return null})),kt=t("nNSt"),components_IntegrityStatusResult=function(){var e=IntegrityStatusContextProvider_useIntegrityStatusContext(),t=e.getShouldDeterLearnerFromSubmitting,n=e.getHasPlagiarismInSubmission,i=e.getHasGibberishInSubmission;return t()?r.createElement(kt.a,{severity:"error"},Le()("Review the notifications below and update your responses before submitting to complete this assignment.")):n()||i()?r.createElement(kt.a,{severity:"warning"},Le()("Review the notifications below and consider updating your responses before submitting.")):null},Rt=t("7NQo"),jt=t("7Pyc"),Nt=t("ZJgU"),xt=t("8Hdl"),_t=t("PSZr"),Dt=t("POo7"),Vt=Object(Ve.e)({type:"BUTTON"})(Nt.a),Ut={flagStyle:function(e){return Object(Re.c)(dt||(dt=We()(["\n    padding: ",";\n  "])),e.spacing(4,0,4,0))},successIcon:function(e){return Object(Re.c)(mt||(mt=We()(["\n    margin-bottom: calc("," * -1);\n  "])),e.spacing(4))}},components_GibberishPromptResult=function(e){var t=e.partId,n=e.trackingData,i=IntegrityStatusContextProvider_useIntegrityStatusContext(),a=i.getHasGibberishInPart,o=i.assignmentId,s=Object(r.useState)(!1),c=Ae()(s,2),u=c[0],l=c[1];return a(t)?Object(Re.d)("div",null,Object(Re.d)(kt.a,{severity:"warning"},Le()("It looks like this response doesn’t answer the original question. Make sure it’s a a full sentence answer so that reviewers can better assess your submission.")),u?Object(Re.d)("div",{css:Ut.flagStyle},Object(Re.d)(_t.a,{size:"small",color:"success",css:Ut.successIcon})," ",Object(Re.d)(xt.a,{variant:"body2",display:"inline"},Le()("Thanks for your input! We’ll use it to improve the experience."))):Object(Re.d)("div",{css:Ut.flagStyle},Object(Re.d)(xt.a,{variant:"body2",display:"inline"},Le()("Do you believe you received this in error?"))," ",Object(Re.d)(Vt,{trackingName:"gibberish_deterrence_user_flagged_false_positive",trackingData:B()(B()({},n),{},{assignment_id:o,user_id:d.a.get().id,part_id:t}),"data-test":"flag-false-positive-button",variant:"ghost",size:"small",icon:pt||(pt=Object(Re.d)(Dt.a,{size:"small"})),iconPosition:"before",onClick:function(){return l(!0)}},Le()("Let us know")))):null},Lt=Object(Ve.e)({type:"BUTTON"})(Nt.a),Mt={flagStyle:function(e){return Object(Re.c)(bt||(bt=We()(["\n    padding: ",";\n  "])),e.spacing(4,0,4,0))},successIcon:function(e){return Object(Re.c)(ft||(ft=We()(["\n    margin-bottom: calc("," * -1);\n  "])),e.spacing(4))}},components_PlagiarismPromptResult=function(e){var t=e.partId,n=e.trackingData,i=e.promptType,a=IntegrityStatusContextProvider_useIntegrityStatusContext(),o=a.getHasPlagiarismInPart,s=a.assignmentId,c=Object(r.useState)(!1),u=Ae()(c,2),l=u[0],m=u[1],p="fileUpload"===i?"file_upload_deterrence_user_flagged_false_positive":"simtext_deterrence_user_flagged_false_positive";return o(t)?Object(Re.d)("div",null,Object(Re.d)(kt.a,{severity:"warning"},Le()("Is your response your original work? It looks similar to another learner’s previous submission. Update your response before submitting.")),l?Object(Re.d)("div",{css:Mt.flagStyle},Object(Re.d)(_t.a,{size:"small",color:"success",css:Mt.successIcon})," ",Object(Re.d)(xt.a,{variant:"body2",display:"inline"},Le()("Thanks for your input! We’ll use it to improve the experience."))):Object(Re.d)("div",{css:Mt.flagStyle},Object(Re.d)(xt.a,{variant:"body2",display:"inline"},Le()("Do you believe you received this in error?"))," ",Object(Re.d)(Lt,{trackingName:p,trackingData:B()(B()({},n),{},{assignment_id:s,user_id:d.a.get().id,part_id:t}),"data-test":"flag-false-positive-button",variant:"ghost",size:"small",icon:gt||(gt=Object(Re.d)(Dt.a,{size:"small"})),iconPosition:"before",onClick:function(){return m(!0)}},Le()("Let us know")))):null},Gt=t("3H1I"),Bt=t("fiqM"),qt=t("BkRI"),Ht=t.n(qt),components_PlainTextEditView=function(e){var t=e.submissionPart,n=e.update,i=e.disabled,a=e.id,o=e.ariaLabelledBy,s=e.ariaDescribedby;return"plainText"!==t.typeName?null:r.createElement("textarea",{id:a,defaultValue:t.definition.plainText,className:"c-peer-review-submit-text-field bt3-form-control","aria-labelledby":o,"aria-describedby":s,onChange:function(e){var i=Ht()(t);i.definition.plainText=e.target.value,n(i)},disabled:i})},Ft=t("ZFE0"),Wt=t("EqTq"),$t=t("kvW3"),zt=t("aNDK"),Yt=t("RT5p"),Qt=t("qC2T"),Jt=t.n(Qt),Kt=(t("Tqty"),Object(Wt.a)("MinWordCount")),components_MinWordCount=function(e){var t=e.minWordCount,n=function(e){if(!e)return 0;if("string"==typeof e){var t=new zt.a,n=Object(Yt.a)(t.toCML(e,!0,!0));return Object(Yt.j)(n)}return Object(Yt.j)(e)}(e.content),i=t||1,a=t?Jt()("Minimum {minWordCount, plural, one{# word} other{# words}}: {currentWordCount, number}"):Jt()("Your answer needs to be a little bit longer. Write a few sentences to complete your assignment.");return r.createElement("div",{className:Kt()},n<i&&r.createElement($t.b,{message:a,minWordCount:t,currentWordCount:n}))};var Xt={getImageUploadOptions:function(e,t){return{context:{courseId:e,itemId:t},pendingAssetCreation:{assetType:"image",typeName:"pending",tags:[]},assetCreationUrl:"/api/onDemandPeerAssetCreationAttempts.v1"}}},Zt=t("IbxQ"),en=t("9AH0"),tn=t("S8+M"),nn={notificationContainer:function(e){return Object(Re.c)({marginBottom:e.spacing(8)})}},RichTextEditView_RichTextEditView=function(e){var t,n,i,a=e.courseId,o=e.submissionPart,s=e.update,c=e.disabled,u=e.submissionSchemaPart,l=e.ariaLabelledBy,m=e.ariaDescribedby,p=e.eventData,b=e.versionedAssignmentId,f=e.dtdIdOverride,g=e.itemId,h=o.definition.richText,v=Object(r.useState)(!1),S=Ae()(v,2),y=S[0],I=S[1],w=Object(Zt.a)(h,f).cmlContent;if("richText"!==o.typeName||"string"==typeof h)return null;var C=null==u?void 0:null===(t=u.details)||void 0===t?void 0:null===(n=t.definition)||void 0===n?void 0:n.minWordCount,E=null!==(i=null==b?void 0:b.split("@"))&&void 0!==i?i:[],A=Ae()(E,1)[0],O="min-word-count-warn-".concat(null==u?void 0:u.id);return Object(Re.d)("div",{className:"rc-RichTextEditView",onPaste:function(e){var t=e.clipboardData.getData("text").length,n=d.a.get().id;Ge.a.trackComponent(p,{clipboardTextLength:t,userId:n,peer_assignment_id:A},"pasting_detection","paste"),I(!0)}},y&&Object(Re.d)("div",{css:nn.notificationContainer},Object(Re.d)(Ft.a,{onDismiss:function(){return I(!1)}})),Object(Re.d)(en.a,{initialCML:w,readOnly:c,shouldDebounceChanges:!1,isLearnerUpload:!0,uploadOptions:{asset:Xt.getImageUploadOptions(a,g)},onContentChange:function(e){var t=Ht()(o);t.definition.richText=e,s(t)},customTools:[tn.a.BOLD,tn.a.ITALIC,tn.a.MATH,tn.a.LINK,tn.a.UNLINK,tn.a.UNORDERED_LIST,tn.a.ORDERED_LIST,tn.a.IMAGE,tn.a.SUBSCRIPT,tn.a.SUPERSCRIPT],ariaLabelledBy:l,ariaDescribedBy:"".concat(O," ").concat(m)}),Object(Re.d)("div",{id:O},Object(Re.d)(components_MinWordCount,{minWordCount:C,content:w})))},RichTextEditView_RichTextEditViewContainer=function(e,t){return Object(Re.d)(RichTextEditView_RichTextEditView,Ce()({eventData:t._eventData},e))};RichTextEditView_RichTextEditViewContainer.contextTypes={_eventData:b.a.object};var rn,an=RichTextEditView_RichTextEditViewContainer,on=function(e){function UrlEditView(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).onChangeUrl=function(e){var n=t.props,i=n.submissionPart,r=n.update,a=Ht()(i);a.definition.url=e.currentTarget.value,r(a)},t.onChangeTitle=function(e){var n=t.props,i=n.submissionPart,r=n.update,a=Ht()(i);a.definition.title=e.currentTarget.value,r(a)},t.onChangeCaption=function(e){var n=t.props,i=n.submissionPart,r=n.update,a=Ht()(i);a.definition.caption=e.currentTarget.value,r(a)},t}return i()(UrlEditView,e),UrlEditView.prototype.render=function(){var e=this.props,t=e.submissionPart,n=e.id,i=e.ariaLabelledBy,a=e.ariaDescribedby;return"url"!==t.typeName?null:r.createElement("div",{className:"rc-UrlEditView"},r.createElement("input",{id:n,className:st()("c-peer-review-submit-text-field",{"c-peer-review-submit-text-field-group-top":!!t.definition.url},"bt3-form-control"),type:"text",placeholder:ut()("https://example.com"),"aria-labelledby":i,"aria-describedby":a,defaultValue:t.definition.url,onChange:this.onChangeUrl,disabled:this.props.disabled}),t.definition.url&&r.createElement("div",null,r.createElement("div",{className:"c-peer-review-submit-text-field-container"},r.createElement("input",{className:st()("c-peer-review-submit-text-field","c-peer-review-submit-text-field-group-middle","bt3-form-control"),type:"text",placeholder:ut()("Title"),defaultValue:t.definition.title,onChange:this.onChangeTitle,disabled:this.props.disabled}),!t.definition.title&&r.createElement("div",{className:"c-peer-review-submit-text-field-annotation"},ut()("optional"))),r.createElement("div",{className:"c-peer-review-submit-text-field-container"},r.createElement("textarea",{className:st()("c-peer-review-submit-textarea-field","c-peer-review-submit-text-field-group-bottom","bt3-form-control"),placeholder:ut()("Caption"),defaultValue:t.definition.caption,onChange:this.onChangeCaption,disabled:this.props.disabled}),!t.definition.caption&&r.createElement("div",{className:"c-peer-review-submit-text-field-annotation"},ut()("optional")))))},UrlEditView}(r.Component),sn=t("beC1"),cn=(t("WMAa"),function(e){function SubmissionPartEditView(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).promptId="prompt-".concat(t.props.partId),t.inputId="input-".concat(t.props.partId),t.validationLabelId="submission-part-label-".concat(t.inputId),t.state={hasUnsavedChanges:!1,showCopyDeterrenceNotification:!1},t.updatePart=function(e){var n=t.props.update;t.setState({hasUnsavedChanges:!0}),n(e)},t.preventAction=function(e){if(Object(qe.g)()){e.preventDefault(),t.toggleCopyDeterrenceNotification(!0);var n=t.props,i=n.partId,r=n.versionedAssignmentId,a=t.context._eventData;Ge.a.trackComponent(a,{userId:d.a.get().id,assignment_id:r,partId:i},"prevent_prompt_copy",e.type)}},t.toggleCopyDeterrenceNotification=function(e){t.setState({showCopyDeterrenceNotification:e})},t}i()(SubmissionPartEditView,e);var t=SubmissionPartEditView.prototype;return t.componentDidUpdate=function(e){var t=this.props.draftHasLocalChanges,n=this.state.hasUnsavedChanges;e.draftHasLocalChanges&&!t&&n&&this.setState({hasUnsavedChanges:!1})},t.renderEditor=function(){var e=this.props,t=e.courseId,n=e.submissionPart,i=e.update,a=e.blockSubmit,o=e.disabled,s=e.isPartReceivingInlineFeedback,c=e.submissionSchemaPart,u=e.versionedAssignmentId,l=e.dtdIdOverride,d=e.itemId;switch(n.typeName){case"plainText":return r.createElement(components_PlainTextEditView,{submissionPart:n,ariaLabelledBy:this.promptId,ariaDescribedby:this.validationLabelId,id:this.inputId,update:i,disabled:o});case"richText":return r.createElement(an,{submissionPart:n,update:this.updatePart,disabled:o,courseId:t,submissionSchemaPart:c,ariaLabelledBy:this.promptId,ariaDescribedby:this.validationLabelId,versionedAssignmentId:u,dtdIdOverride:l,itemId:d});case"url":return r.createElement(on,{submissionPart:n,id:this.inputId,update:this.updatePart,disabled:o,ariaLabelledBy:this.promptId,ariaDescribedby:this.validationLabelId});case"fileUpload":return r.createElement(Gt.a,{id:this.inputId,submissionPart:n,update:this.updatePart,blockSubmit:a,disabled:o,isPartReceivingInlineFeedback:s,ariaDescribedby:this.validationLabelId});case"offPlatform":return rn||(rn=r.createElement(Bt.a,null));default:return!1}},t.render=function(){var e=this,t=this.props,n=t.submissionSchemaPart,i=t.errorTree,a=t.showValidation,o=t.renderInlineNode,s=t.partId,c=t.courseId,u=t.submissionPart,l=n.id,d=this.state.showCopyDeterrenceNotification;return r.createElement("div",{className:"rc-SubmissionPartEditView",id:l},r.createElement("div",{className:"c-peer-review-submit-prompt"},r.createElement("div",{"data-test":"question-content",onCut:this.preventAction,onCopy:this.preventAction},r.createElement(sn.a,{content:n.prompt,assumeStringIsHtml:!0,contentId:this.promptId,display:"inline-block"})),o&&o(s,n.prompt)),Object(qe.g)()&&d&&r.createElement("div",{className:"deterrence-notification"},r.createElement(jt.a,{onDismiss:function(){return e.toggleCopyDeterrenceNotification(!1)}})),Object(qe.b)(c)&&r.createElement("div",{className:"deterrence-notification"},r.createElement(components_GibberishPromptResult,{partId:this.props.partId})),Object(qe.f)(c)&&r.createElement("div",{className:"deterrence-notification"},r.createElement(components_PlagiarismPromptResult,{partId:this.props.partId,promptType:u.typeName})),a&&i&&r.createElement(Rt.a,{id:this.validationLabelId,errorTree:i}),this.renderEditor())},SubmissionPartEditView}(r.Component));cn.contextTypes={_eventData:b.a.object.isRequired},cn.contextTypes={_eventData:b.a.object.isRequired};var un,ln=cn,dn=(t("jcHc"),function(e){function AssignmentSubmitEditView(t){var n;return(n=e.call(this,t)||this).handleTitleChange=function(e){var t=n.props.updateSubmissionTitle;e.target instanceof HTMLInputElement&&(n.setState({inputValue:e.target.value}),t(e.target.value))},n.handleInputWithErrorFocus=function(){var e=(n.props.submissionAppState||{}).showValidation,t=n.state,i=t.firstSubmissionSchemaPartWithError,r=t.titleHasError;if(e){var a=document.getElementById("input-".concat((i||{}).id));if(r)return void(n.titleInputRef&&n.titleInputRef.focus());i&&a&&a.focus()}},n.getFirstSubmissionSchemaPartWithError=function(){var e=n.props,t=e.submissionSchema,i=e.errorTree;return t.parts.find((function(e){var t=e.id;return(((i.children||{})[t]||{}).errors||[]).length>0}))},n.updateFirstValidationError=function(){var e=n.props,t=e.submissionAppState,i=e.errorTree,r=t.showValidation,a=null;if(r){var o=n.state,s=o.firstSubmissionSchemaPartWithError;o.titleHasError?a=i.errors&&i.errors.map((function(e){return e.errorMessage})).join(" "):s&&(a=(((i.children||{})[s.id]||{}).errors||[]).map((function(e){return e.errorMessage})).join(" "))}n.handleInputWithErrorFocus(),setTimeout((function(){n.setState({firstValidationError:a})}),1500)},n.state={firstValidationError:null,titleHasError:!1,firstSubmissionSchemaPartWithError:null,inputValue:t.submission.title?t.submission.title:""},n}i()(AssignmentSubmitEditView,e);var t=AssignmentSubmitEditView.prototype;return t.componentDidUpdate=function(e){var t=this.props,n=t.submissionAppState,i=t.errorTree,r=n.showValidation;if(e.submissionAppState.showValidation!==r){var a,o=this.getFirstSubmissionSchemaPartWithError();o&&(a=o),this.setState(B()({titleHasError:i.errors&&i.errors.length>0},{firstSubmissionSchemaPartWithError:a}),this.updateFirstValidationError)}},t.render=function(){var e=this,t=this.props,n=t.courseId,i=t.submission,a=t.submissionSchema,o=t.errorTree,s=t.isSubmitted,c=t.submissionAppState,u=c.saveState,l=c.submitState,d=c.showValidation,m=t.renderInlineNode,p=t.updateSubmissionPartGenerator,b=t.blockSubmitPartGenerator,f=t.itemId,g=t.versionedAssignmentId,h=t.creatorId,v=t.draftHasLocalChanges,S=t.dtdIdOverride,y=this.state,I=y.firstValidationError,w=y.inputValue,C="saving"===u||"submitting"===l||s,E="submission-part-label-title-".concat(f),A=Jt()("Project Title"),O=Object(qe.f)(n)||Object(qe.b)(n);return r.createElement("div",{className:"rc-AssignmentSubmitEditView"},O&&(un||(un=r.createElement("div",{className:"simtext-submission-result"},r.createElement(components_IntegrityStatusResult,null)))),r.createElement("div",{className:"project-title",id:"titleLabel"},A," *"),d&&r.createElement(Rt.a,{id:E,errorTree:o}),r.createElement("input",{className:"c-peer-review-submit-text-field bt3-form-control",type:"text","aria-label":A,defaultValue:i.title,placeholder:w.length?"":Jt()("Give your project a descriptive title"),onChange:this.handleTitleChange,"aria-required":!0,"aria-describedby":E,disabled:C,id:"title",ref:function(t){e.titleInputRef=t}}),r.createElement("div",{className:"parts"},a.parts.map((function(e){var t=null;return t=i.parts&&i.parts[e.id]?i.parts[e.id]:i.invalidParts[e.id],r.createElement(ln,{courseId:n,key:e.id,partId:e.id,submissionSchemaPart:e,submissionPart:t,update:p(e.id),blockSubmit:b(e.id),disabled:C,errorTree:o&&o.children[e.id],showValidation:d,renderInlineNode:m,itemId:f,versionedAssignmentId:g,creatorId:h,draftHasLocalChanges:v,dtdIdOverride:S})}))),r.createElement("div",{className:"sr-only","aria-live":"polite",role:"region"},d&&I))},AssignmentSubmitEditView}(r.Component)),mn=t("MnCE"),pn=t("kgYC"),bn=t("37kS"),fn=t.n(bn),gn=(t("06Ht"),function(e){function AssignmentUpgradeChanges(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).renderChange=function(e,n){if("AddsPart"===e.typeName)return t.renderChangeItem(n,"cif-plus-square",fn()("Added question."),r.createElement("tr",{className:"bt3-success"},r.createElement("th",null,fn()("Added")),r.createElement("td",{className:"change-contents"},r.createElement("div",null,r.createElement(sn.a,{assumeStringIsHtml:!0,content:e.definition.prompt})))));if("RemovesPart"===e.typeName)return t.renderChangeItem(n,"cif-minus-square",fn()("Removed question."),r.createElement("tr",{className:"bt3-danger"},r.createElement("th",null,fn()("Removed")),r.createElement("td",{className:"change-contents"},r.createElement("div",null,r.createElement(sn.a,{assumeStringIsHtml:!0,content:e.definition.prompt})))));if("ChangesPart"===e.typeName){var i=e.definition.changes,a=i.find((function(e){return"ChangesPrompt"===e.typeName})),o=i.filter((function(e){return"ChangesPrompt"!==e.typeName}));return t.renderChangeItem(n,"cif-square",fn()("Changed question."),[r.createElement("tr",{className:st()({"bt3-danger":!!a}),key:"changedQuestionPrompt"},r.createElement("th",null,fn()("Original")),r.createElement("td",{className:"change-contents"},r.createElement("div",null,r.createElement(sn.a,{assumeStringIsHtml:!0,content:e.definition.prompt})))),a&&t.renderPartChange(a,"promptChange"),o.map(t.renderPartChange),0===i.length&&fn()("Unknown change.")])}return null},t.renderPartChange=function(e,t){var n="ChangesPrompt"===e.typeName?fn()("New"):"",i=!1;return"ChangesPrompt"===e.typeName?i=r.createElement("div",{key:t},r.createElement(sn.a,{assumeStringIsHtml:!0,content:e.definition.newPrompt})):"ChangesPoints"===e.typeName?i=fn()("The new version of this question has different point values."):"ChangesOptions"===e.typeName?i=fn()("The new version of this multiple choice question has different options."):"ChangesValidationRules"===e.typeName&&(i=fn()("The new version of this question allows a different set of responses.")),r.createElement("tr",{className:"ChangesPrompt"===e.typeName?"bt3-success":"bt3-warning",key:t},r.createElement("th",null,n),r.createElement("td",{className:"change-contents"},i))},t}i()(AssignmentUpgradeChanges,e);var t=AssignmentUpgradeChanges.prototype;return t.excludeNoChangeChanges=function(e){return e.filter((function(e){return"NoChange"!==e.typeName}))},t.renderChangeGroup=function(e,t){var n=this.excludeNoChangeChanges(e);return 0!==n.length&&r.createElement("div",null,r.createElement("h2",null,t),r.createElement("ul",{className:"cif-list-ul"},n.map(this.renderChange)))},t.renderChangeItem=function(e,t,n,i){return r.createElement("li",{className:"change-item",key:e},r.createElement("i",{className:t}),r.createElement("span",{className:"type-of-change"},n),r.createElement("div",{className:"change-table-container"},r.createElement("table",{className:"bt3-table"},r.createElement("tbody",null,i))))},t.render=function(){return r.createElement("div",{className:"rc-AssignmentUpgradeChanges"},this.renderChangeGroup(this.props.upgradeToCurrentAssignment.submissionSchemaChanges,fn()("Assignment question changes")),this.renderChangeGroup(this.props.upgradeToCurrentAssignment.reviewSchemaChanges,fn()("Review question changes")))},AssignmentUpgradeChanges}(r.Component));gn.propTypes={upgradeToCurrentAssignment:b.a.object.isRequired};var hn=gn,vn=t("+2ZD"),components_AssignmentUpgradeModal=function(e){var t=e.onClickUpgrade,n=e.modalOpen,i=e.onModalClose,a=e.upgradeToCurrentAssignment,o=!1,s=!1;return n?(null!=a&&("NotifiesUser"===a.severity?(o=fn()("Upgrade assignment"),s=r.createElement("p",null,fn()('\n            The assignment changed since you started working on it. Click\n            "Upgrade assignment" to get the new assignment. Please read the\n            new assignment carefully and update your submission to follow\n            the new instructions.\n          '))):"ClearsSubmission"===a.severity&&(o=fn()("Delete draft and upgrade assignment"),s=r.createElement("p",null,fn()("\n            The assignment changed since you started working on it. We need\n            to delete your draft to give you the new assignment.\n          ")," ",r.createElement("strong",null,fn()("\n              Please save a copy of your submission outside Coursera before\n              continuing.\n            "))," ",fn()('\n            Click "Delete draft and upgrade assignment" to get the new\n            assignment. If you’d like to not update your assignment, you can click “Cancel” and submit your answers on the old version.\n          ')))),r.createElement(vn.a,{handleClose:i,modalName:fn()("New assignment version")},r.createElement("div",{className:"rc-AssignmentUpgradeNotification assignment-upgrade-explanation"},r.createElement("h3",null,fn()("New assignment version")),s,null!=a&&r.createElement(hn,{upgradeToCurrentAssignment:a}),r.createElement("div",{className:"c-modal-action-bar"},r.createElement("button",{type:"button",className:"bt3-btn c-modal-action-button",onClick:i},fn()("Cancel")),r.createElement("button",{type:"button",className:"bt3-btn bt3-btn-success c-modal-action-button",onClick:t},o))))):null},components_AssignmentUpgradeNotification=function(e){var t=e.upgradeToCurrentAssignment,n=e.onRequestUpgrade,i=e.showStaleAssignmentVersionError,a=Object(pn.a)(),o=Object(r.useState)(!1),s=Ae()(o,2),c=s[0],u=s[1],l=st()({"bt3-alert":!0,"bt3-alert-info":!i,"bt3-alert-danger":i});return t&&"AutomaticallyUpgrades"!==t.severity?r.createElement("div",{className:"rc-AssignmentUpgradeNotification"},r.createElement("div",{style:{background:a.palette.blue[100],border:"none",color:a.palette.black[500]},className:l},fn()("A new version of this assignment exists.")," ",r.createElement("button",{type:"button",style:{color:a.palette.blue[600]},className:"button-link",onClick:function(){return u(!0)}},fn()("Click here to see the changes and get the new version."))),c&&r.createElement(components_AssignmentUpgradeModal,{upgradeToCurrentAssignment:t,modalOpen:c,onModalClose:function(){return u(!1)},onClickUpgrade:function(){n(),u(!1)}})):null},Sn=function(e){function PeerItemUpgradeNotification(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).onRequestUpgrade=function(){var e=t.props,n=e.courseId,i=e.courseSlug,r=e.computedItem.id,a=e.submission,o=e.assignmentVersion,s=e.forceUpgradeToAssignmentVersion;t.context.executeAction(wt.f,{itemId:r,submission:a,assignmentVersion:o,forceUpgradeToAssignmentVersion:s,courseId:n,courseSlug:i,userId:d.a.get().id})},t}return i()(PeerItemUpgradeNotification,e),PeerItemUpgradeNotification.prototype.render=function(){return null==this.props.upgradeToCurrentAssignment?null:r.createElement("div",{className:"rc-PeerItemUpgradeNotification"},r.createElement(components_AssignmentUpgradeNotification,{onRequestUpgrade:this.onRequestUpgrade,upgradeToCurrentAssignment:this.props.upgradeToCurrentAssignment,showStaleAssignmentVersionError:this.props.showStaleAssignmentVersionError}))},PeerItemUpgradeNotification}(r.Component);Sn.contextTypes={executeAction:b.a.func.isRequired};var yn,In,wn,Cn,En,An,On,Pn,Tn,kn=Object(mn.b)(Object(c.a)(["PeerSubmissionDraftStore","CourseStore"],(function(e){var t=e.PeerSubmissionDraftStore,n=e.CourseStore,i=t.getState().latestSubmissionAndRelated,r=null,a=null,o=null;return null!=i&&(r=i.upgradeToCurrentAssignment,a=i.submissionSchema.assignmentVersion,o=i.upgradeToCurrentAssignment&&i.upgradeToCurrentAssignment.upgradeToVersion),{submission:i&&i.submission,upgradeToCurrentAssignment:r,assignmentVersion:a,forceUpgradeToAssignmentVersion:o,courseId:n.getCourseId(),courseSlug:n.getCourseSlug()}})))(Sn),Rn=t("SJ7i"),jn=t("aFpJ"),Nn={SUBMITTING:"submitting",SUBMIT_ERROR:"submitError",READY:"ready",SAVING:"saving",SAVE_ERROR:"saveError"},xn=Nn.SUBMITTING,_n=Nn.SAVING,Dn=t("O+1n"),Vn=t("4uky"),Un=t("JJfJ"),Ln=t("6/Gu"),Mn=t("8xbv"),Gn=t("PB6g"),Bn=t("ZYEf"),qn={root:function(){return Object(Re.c)(yn||(yn=We()(["\n    text-align: right;\n    margin-top: var(--cds-spacing-300);\n  "])))},saveStateDisplay:function(){return Object(Re.c)(In||(In=We()(["\n    margin-right: var(--cds-spacing-300);\n    display: inline-block;\n  "])))},saveDraftButton:function(){return Object(Re.c)(wn||(wn=We()(["\n    margin-right: var(--cds-spacing-200);\n  "])))}},Hn=Object(mn.b)(Object(c.a)(["CourseStore"],(function(e){return{courseId:e.CourseStore.getCourseId()}})))((function(e){var t=e.computedItem,n=e.courseId,i=e.lastSaveTime,a=e.isSaving,o=e.isSubmitting,s=e.onSave,c=e.onSubmit,u=e.submitMessage,l=void 0===u?ut()("Submit"):u,d=e.isSubmitDisabled,m=void 0!==d&&d,p=Object(St.o)(t),b=a?ut()("Saving draft..."):ut()("Submitting assignment...");return Object(Re.d)(Ln.a,{css:qn.root},Object(Re.d)(xt.a,{variant:"body2",color:"supportText",css:qn.saveStateDisplay,id:"last-saved-text"},i&&i>0?Object(Re.d)($t.b,{message:ut()("Last saved on {lastSaveDate} at {lastSaveTime}"),lastSaveDate:Object(Un.w)(i,Un.c),lastSaveTime:Object(Un.w)(i,Un.s)}):ut()("This project has not been saved.")),Object(Re.d)(Gn.b,{tagName:"span","aria-live":"polite"},a||o?b:null),p&&Object(Re.d)(Bn.a,{courseId:n}),!p&&Object(Re.d)(r.Fragment,null,Object(Re.d)(Ve.c,{variant:"secondary","data-e2e":"save-draft",disabled:a||o,onClick:s,trackingName:"save","aria-label":ut()("Save draft"),"aria-describedby":"last-saved-text",css:qn.saveDraftButton,size:"small"},Object(Re.d)("span",{"aria-hidden":!0},a?Cn||(Cn=Object(Re.d)(Mn.a,{size:"small"})):ut()("Save draft"))),Object(Re.d)(Ve.c,{variant:"primary","data-e2e":"preview",onClick:c,disabled:a||o||m,trackingName:"submit","aria-label":l,size:"small"},Object(Re.d)("span",{"aria-hidden":!0},o?En||(En=Object(Re.d)(Mn.a,{size:"small"})):l))))})),Fn=t("g0DA"),Wn=t("lSNA"),$n=t.n(Wn),zn=t("wd/R"),Yn=t.n(zn),Qn=t("7NTc"),Jn=t("uhOI"),Kn=t("kWps"),Xn=t("TSwX"),Zn=Qn.a.HeadingGroup,ei=Qn.a.Content,ti=Qn.a.Actions,ni={title:function(e){return Object(Re.c)({margin:e.spacing(12,0,32,0)})},notification:function(e){return Object(Re.c)({marginBottom:e.spacing(24)})},buttons:function(e){return Object(Re.c)($n()({},e.breakpoints.down("xs"),{display:"flex",flexDirection:"column",alignItems:"flex-start"}))},button:function(e){return Object(Re.c)({marginRight:e.spacing(24),marginBottom:e.spacing(16)})},message:function(e){return Object(Re.c)({paddingTop:e.spacing(12)})}},modals_SubmitModalV2=function(e){var t=e.handleSubmit,n=e.handleCancel,i=e.isSubmitting,a=e.isInvalid,o=e.remainingAttempts,s=e.submissionDeadline,c=e.loadingIntegrityStatus,u=e.isActivelyDeterred,l=e.isPassivelyDeterred,d=e.isAssignmentAiGradingEligible,m=ut()("Submit"),p=o||0,b=i||c,f=function(e){return e?ut()("Missing or invalid answers"):ut()("Ready to submit?")}(a||u||l);return Object(Re.d)(Qn.a,{open:!0,onClose:n,"aria-describedby":f},Object(Re.d)(Zn,null,f),Object(Re.d)(ei,null,Object(Re.d)("div",{"data-e2e":"SubmitDialog__content"},(a||u)&&Object(Re.d)(kt.a,{css:ni.notification,severity:"error","data-e2e":"SubmitDialog__notification"},ut()("Your assignment couldn’t be submitted for grading.")),l&&!u&&Object(Re.d)(r.Fragment,null,Object(Re.d)(kt.a,{css:ni.notification,severity:"warning","data-e2e":"SubmitDialog__notification"},ut()("We found potential content issues.")),Object(Re.d)(xt.a,{variant:"body1"},ut()("Do you still want to submit this assessment?"))),u&&Object(Re.d)(xt.a,{variant:"body1"},ut()("We found content issues in your assignment. Check the notifications and make any required changes before you submit your assignment again.")),!l&&!u&&Object(Re.d)(xt.a,{variant:"body1"},ut()("You won’t be able to make changes after submitting. Do you still want to submit this assessment?")),void 0!==o&&Object(Re.d)(xt.a,{variant:"body1",css:ni.message},Object(Re.d)($t.b,{message:p>0?ut()("Your submission counts as an attempt. You'll have {attemptsLeftAfterSubmission, plural, =1 {# more attempt} other {# more attempts available}}{deadline}."):ut()("This is your last attempt. You'll have no more attempts after you submit."),attemptsLeftAfterSubmission:Math.max(p,0),deadline:s?ut()(" until the deadline on #{formattedDeadline}",{formattedDeadline:Kn.a.getFormattedDeadline(Yn()(s))}):""})),d&&!a&&!u&&Object(Re.d)(xt.a,{variant:"body1",css:ni.message},Object(Re.d)($t.b,{message:ut()("You'll receive your grade and feedback from Coursera Coach after you review your peers.")})))),Object(Re.d)(ti,null,Object(Re.d)("div",{"data-e2e":"SubmitDialog__controls"},Object(Re.d)("div",{css:ni.buttons,"data-e2e":"AttemptViewSubmitControls__buttons"},!u&&Object(Re.d)(Xn.a,{onClick:t,apiStatus:b?Jn.c:Jn.a,variant:"primary","data-test":"dialog-submit-button",css:ni.button,label:b?ut()("Submitting..."):m}),!b&&!u&&Object(Re.d)(Nt.a,{onClick:n,"data-test":"dialog-cancel-button",variant:"secondary",css:ni.button},ut()("Cancel")),u&&Object(Re.d)(Nt.a,{onClick:n,"data-test":"dialog-cancel-button",variant:"primary",css:ni.button},ut()("Okay"))))))},ii={piiMessageBeforeSubmit:function(){return Object(Re.c)(An||(An=We()(["\n    padding-top: var(--cds-spacing-150);\n    text-align: end;\n  "])))}},ri=function(e){function PeerItemVerificationSubmission(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={isSubmitting:!1,isAgreementComplete:!1,fullName:"",hasError:!1},t.handleSubmissionClicked=function(){if(t.props.isVerifiable){t.setState({hasError:!1});var e=null;Object(Dn.a)().then((function(n){return e=n,Object(Dn.b)(e,t.state.fullName)})).then((function(){null!=e&&t.props.handleSubmit(e)})).catch((function(){return t.setState({isSubmitting:!1,hasError:!0})})).done()}else t.props.handleSubmit()},t.scrollToTop=function(){var e,t=document.querySelector('[data-id="item-scroll-container"]');t&&(null===(e=t.scroll)||void 0===e||e.call(t,{top:0,behavior:"smooth"}))},t.onAgreementComplete=function(e){t.setState({isAgreementComplete:!0,fullName:e})},t.onAgreementIncomplete=function(){t.setState({isAgreementComplete:!1})},t}i()(PeerItemVerificationSubmission,e);var t=PeerItemVerificationSubmission.prototype;return t.componentWillReceiveProps=function(e){var t=this.props.submissionAppState.submitState===xn,n=e.submissionAppState.submitState===xn;t&&!n?this.setState({isSubmitting:!1}):!t&&n&&this.setState({isSubmitting:!0})},t.render=function(){var e,t=this.props,n=t.submissionAppState,i=t.lastSaveTime,r=t.handleSave,a=t.isVerifiable,o=t.computedItem,s=t.blockSubmit,c=t.capabilitiesWithReasons,u=t.latestAttemptSummary,l=t.submissionDeadline,d=t.getShouldDeterLearnerFromSubmitting,m=t.hasGibberishOrPlagiarismInSubmission,p=t.theme,b=t.loadingIntegrityStatus,f=t.showV2SubmitModal,g=t.onV2SubmitModalClose,h=t.isAssignmentAiGradingEligible,v=this.state,S=v.isAgreementComplete,y=v.isSubmitting,I=v.hasError,w=null==c?void 0:null===(e=c.anonymousPeerReview)||void 0===e?void 0:e.isAllowed,C=Object(qe.b)(o.courseId)||Object(qe.f)(o.courseId),E=C&&d(),A=C&&m;return Object(Re.d)("div",{className:"rc-PeerItemVerificationSubmission",style:{marginTop:p.spacing(32),marginBottom:p.spacing(32)}},a&&Object(Re.d)(jn.a,{onAgreementComplete:this.onAgreementComplete,onAgreementIncomplete:this.onAgreementIncomplete,isShownInsideModal:!1}),w&&Object(Re.d)(Vn.a,null,ut()("Your submission will be anonymous to fellow learners and your name will be visible to course instructors.")),Object(Re.d)(Hn,{lastSaveTime:i,isSaving:n.saveState===_n,isSubmitting:y||!!b,onSave:function(){return r()},onSubmit:this.handleSubmissionClicked,submitMessage:ut()("Submit"),isSubmitDisabled:a&&!S||s,computedItem:o}),h&&Object(Re.d)("div",{css:ii.piiMessageBeforeSubmit,"data-testid":"pii-message"},ut()("Never include personal information in your assignment.")),I&&Object(Re.d)("div",{className:"align-right caption-text",style:{marginTop:12}},ut()("An error has occurred while submitting. Please try again.")),f&&Object(Re.d)(modals_SubmitModalV2,{"data-testid":"submit-modal",remainingAttempts:null==u?void 0:u.remainingAttempts,isActivelyDeterred:E,isPassivelyDeterred:A,submissionDeadline:l,handleSubmit:this.handleSubmissionClicked,handleCancel:g,loadingIntegrityStatus:b,isInvalid:I,isSubmitting:y,isAssignmentAiGradingEligible:h}))},PeerItemVerificationSubmission}(r.Component),ai=Object(mn.b)(Rn.a)((function(e){var t=IntegrityStatusContextProvider_useIntegrityStatusContext(),n=t.getShouldDeterLearnerFromSubmitting,i=t.getHasPlagiarismInSubmission,r=t.getHasGibberishInSubmission,a=t.isChecking,o=i()||r(),s=Object(Fn.b)().isAssignmentAiGradingEligible;return s.loading||void 0===s.value?On||(On=Object(Re.d)(ye.a,null)):Object(Re.d)(ri,Ce()({},e,{getShouldDeterLearnerFromSubmitting:n,hasGibberishOrPlagiarismInSubmission:o,loadingIntegrityStatus:a,isAssignmentAiGradingEligible:s.value}))})),oi=t("1xaR"),si=t("BbiL"),ci=(t("4Vr2"),function(e){var t=e.criteria,n=e.partId,i=e.privilegedRoleViewReviewSchema,a=e.prompt,o=Object(r.useState)(!1),s=Ae()(o,2),c=s[0],u=s[1],l="grading-criteria-prompt-".concat(n);return 0===t.length?null:r.createElement("div",{className:"rc-GradingCriteriaPreviewModal"},r.createElement("div",{className:"grading-criteria-preview-controls"},r.createElement("button",Ce()({type:"button",onClick:function(e){e.preventDefault(),u(!0)},className:"button-link"},a&&{"aria-labelledby":l}),fn()("Preview grading criteria")),a&&r.createElement(si.a,{tagName:"span",id:l},r.createElement($t.b,{message:fn()("Preview grading criteria for the prompt: {prompt}."),prompt:r.createElement(sn.a,{content:a,assumeStringIsHtml:!0,display:"inline-block"})}))),c&&r.createElement(vn.a,{handleClose:function(){u(!1)},modalName:fn()("Preview grading criteria")},r.createElement("h1",null,fn()("Preview grading criteria")),i&&r.createElement("div",{className:"criteria-warning color-warn-dark"},fn()("You can preview the grading criteria because you have a privileged role in this course. Normal\n                  learners cannot see the grading criteria until they submit a submission.")),t.map((function(e){return r.createElement("div",{className:"criterion card-no-action compact",key:e.get("id")},r.createElement(sn.a,{content:e.get("prompt"),assumeStringIsHtml:!1}))}))))}),ui=s.a.compose(Object(c.a)(["PeerPermissionsAndProgressesStore"],(function(e){var t=e.PeerPermissionsAndProgressesStore;return{hasLoaded:"loaded"===t.getState().loadState,capabilitiesWithReasons:t.getState().capabilitiesWithReasons}})),Object(m.a)((function(e){return e.hasLoaded})),Object(xe.a)((function(e){var t,n=!1,i=null===(t=e.capabilitiesWithReasons)||void 0===t?void 0:t.viewReviewSchema;i&&(n=i.isAllowed&&"privilegedRole"===i.reason);var r=Object(oi.a)(e.reviewSchema);return{partId:e.partId,prompt:e.prompt,criteria:r.getPartsForSubmissionSchemaPart(e.partId),privilegedRoleViewReviewSchema:n}})))(ci),li=t("rYOX"),di=t("grTl"),mi=t("JrTX"),pi=t("jSbv"),bi={notification:function(e){return Object(Re.c)({paddingTop:e.spacing(24),paddingBottom:e.spacing(24)})}},fi="peerSubmission/1",gi=3e3,hi=function(e){function PeerItemEditView(t,n){var i;return(i=e.call(this,t,n)||this).handleRichTextDtdConversion=function(e){var t=e.definition.parts;return Object.values(t).forEach((function(e){if("richText"===e.typeName){var t=e.definition.richText;"string"!=typeof t&&"cml"===(null==t?void 0:t.typeName)&&(t.definition.dtdId=fi)}})),e},i.handleSubmit=function(e){var t=i.props,n=t.computedItem,r=t.latestSubmissionAndRelated,a=t.courseId,o=t.courseSlug,s=t.isAssignmentAiGradingEligible;i.context.executeAction(wt.e,{itemId:n.id,submission:i.handleRichTextDtdConversion(r.submission),assignmentVersion:r.submissionSchema.assignmentVersion,verifiableId:e,courseId:a,courseSlug:o,userId:d.a.get().id,gradingType:s?"AI":"HUMAN"})},i.handleSubmitButtonClicked=function(e){var t=i.props,n=t.courseId,r=t.integrityContext;i.state.showSubmitDialog?i.handleSubmit(e):Object(qe.b)(n)||Object(qe.f)(n)?(r.setIsChecking(!0),i.setState({verifiableId:e}),i.handleSave()):i.showSubmitDialog()},i.showSubmitDialog=function(){i.setState({showSubmitDialog:!0})},i.closeSubmitDialog=function(){i.setState({showSubmitDialog:!1})},i.getIntegrityStatus=function(){var e=i.props,t=e.courseId,n=e.latestSubmissionAndRelated,r=e.integrityContext,a=createIntegrityQuery(n);if(a.prompts.length>0){var o,s=integrityStatusHelper_getOrderedChecks(t);Pe()(a,null===(o=i.state.integrityStatusVariables)||void 0===o?void 0:o.submission)?(r.setIsChecking(!1),i.showSubmitDialog()):(i.setState((function(){return{integrityStatusVariables:{orderedChecks:s,submission:a}}})),r.setIsChecking(!0))}else r.setIsChecking(!1),i.showSubmitDialog()},i.handleIntegrityStatusFetched=function(e){var t=i.props,n=t.integrityContext,r=t.courseId,a=t.eventData,o=t.latestSubmissionAndRelated;n.setIsChecking(!1),integrityStatusHelper_processIntegrityStatusResults({courseId:r,eventData:a,integrityContext:n,latestSubmissionAndRelated:o,integrityStatus:e,scrollToTop:i.scrollToTop,showSubmitDialog:i.showSubmitDialog})},i.scrollToTop=function(){var e,t=document.querySelector('[data-id="item-scroll-container"]');t&&(null===(e=t.scroll)||void 0===e||e.call(t,{top:0,behavior:"smooth"}))},i.handleSave=function(){var e=i.props,t=e.computedItem,n=e.latestSubmissionAndRelated,r=e.courseId,a=e.isNewDraft,o=e.partnerId;i.autoSaveDraft.cancel(),i.setState({hasSaved:!0}),i.context.executeAction(wt.c,{courseId:r,isNewDraft:a,userId:d.a.get().id,itemId:t.id,submission:i.handleRichTextDtdConversion(n.submission),assignmentVersion:n.submissionSchema.assignmentVersion,partnerId:o})},i.handleAutoSave=function(){var e=i.props,t=e.computedItem,n=e.latestSubmissionAndRelated,r=e.courseId,a=e.isNewDraft,o=e.partnerId;i.setState({hasSaved:!0}),i.context.executeAction(wt.a,{courseId:r,isNewDraft:a,userId:d.a.get().id,itemId:t.id,submission:i.handleRichTextDtdConversion(n.submission),assignmentVersion:n.submissionSchema.assignmentVersion,partnerId:o})},i.autoSaveDraft=ke()(i.handleAutoSave,gi),i.updateSubmissionPartGenerator=function(e){return function(t){var n=i.props,r=n.latestSubmissionAndRelated,a=n.integrityContext,o=n.courseId,s=n.triggerFileIntegrityCheck,c=E.a.extend(!0,{},r.submission);if(c.definition.parts[e]=t,i.context.executeAction(wt.b,{submission:c}),i.autoSaveDraft(),"fileUpload"===t.typeName){a.clearPartResult(e);var u=createIntegrityQuery(B()(B()({},r),{},{submission:c})),l=B()(B()({},u),{},{prompts:u.prompts.filter((function(t){return t.promptId===e}))});if(l.prompts.length>0)s({orderedChecks:integrityStatusHelper_getOrderedChecks(o),submission:l})}}},i.blockSubmitPartGenerator=function(e){return function(t){var n=i.state.blockSubmitParts,r=Object.assign({},n);r[e]=t,i.setState({blockSubmitParts:r})}},i.updateSubmissionTitle=function(e){var t=i.props.latestSubmissionAndRelated,n=E.a.extend(!0,{},t.submission);n.definition.title=e,i.context.executeAction(wt.b,{submission:n})},i.renderPreviewGradingCriteria=function(e,t){var n=i.props.latestSubmissionAndRelated;return Object(Re.d)(ui,{reviewSchema:n.reviewSchema,partId:e,prompt:t})},i.state={hasSaved:!1,blockSubmitParts:{}},i}i()(PeerItemEditView,e);var t=PeerItemEditView.prototype;return t.componentDidUpdate=function(e){var t=this.props,n=t.submissionAppState,i=t.errorTree,r=i.children,a=i.errors,o=t.courseId,s=t.integrityContext,c=(null==a?void 0:a.length)>=1||Object.values(r).some((function(e){var t;return(null===(t=e.errors)||void 0===t?void 0:t.length)>=1})),u="saving"===e.submissionAppState.saveState,l="ready"===n.saveState;(Object(qe.b)(o)||Object(qe.f)(o))&&(u&&l&&!c?this.getIntegrityStatus():u&&l&&(s.setIsChecking(!1),c&&this.scrollToTop()))},t.render=function(){var e,t=this.props,n=t.naptimeSubmission,i=t.naptimeSubmissionSchema,r=t.errorTree,a=t.computedItem,o=t.submissionAppState,c=t.isVerifiable,u=t.lastSaveTime,l=t.showStaleAssignmentVersionError,d=t.courseId,m=t.courseBranchId,p=t.latestSubmissionAndRelated,b=t.draftHasLocalChanges,f=t.capabilitiesWithReasons,g=t.isDegreeLearner,h=t.latestAttemptSummary,v=t.submissionDeadline,S=a.id,y=this.state,I=y.hasSaved,w=y.integrityStatusVariables,C=y.showSubmitDialog,E=s.a.contains(s.a.values(this.state.blockSubmitParts),!0),A=p.submission,O=A.versionedAssignmentId,P=A.creatorId,T=null!==(e=null==O?void 0:O.split("@"))&&void 0!==e?e:[],k=Ae()(T,1)[0],R=!(g||u||a.isSubmitted||a.isStarted);return Object(Re.d)("div",{className:"rc-PeerItemEditView"},Object(Re.d)(Tt,{itemId:S,courseBranchId:m,courseId:d,hasSaved:I}),Object(qe.h)()&&R&&Object(Re.d)("div",{css:bi.notification},Pn||(Pn=Object(Re.d)(components_HonorCodeNotification,null))),Object(Re.d)(api_IntegrityStatusAPI,{queryData:w,onDataLoaded:this.handleIntegrityStatusFetched},Object(Re.d)(AssignmentEditView,{submissionAppState:o,errorTree:r,isSubmitted:!1},Object(Re.d)(kn,{showStaleAssignmentVersionError:l,computedItem:a}),Object(Re.d)(dn,{courseId:d,submission:n,submissionSchema:i,errorTree:r,isSubmitted:!1,submissionAppState:o,updateSubmissionTitle:this.updateSubmissionTitle,updateSubmissionPartGenerator:this.updateSubmissionPartGenerator,blockSubmitPartGenerator:this.blockSubmitPartGenerator,renderInlineNode:this.renderPreviewGradingCriteria,itemId:S,versionedAssignmentId:O,creatorId:P,draftHasLocalChanges:b,dtdIdOverride:fi}),Object(Re.d)(ai,{"data-testid":"PeerItemVerificationSubmission",submissionAppState:o,lastSaveTime:u,handleSave:this.handleSave,handleSubmit:this.handleSubmitButtonClicked,blockSubmit:E,isVerifiable:c,computedItem:a,capabilitiesWithReasons:f,draftHasLocalChanges:b,assignmentId:k,latestAttemptSummary:h,submissionDeadline:v,showV2SubmitModal:C,onV2SubmitModalClose:this.closeSubmitDialog}))))},PeerItemEditView}(r.Component);hi.contextTypes={executeAction:b.a.func.isRequired};var PeerItemEditView_PeerItemEditViewComponent=function(e,t){var n,i,r=Object(Fn.b)(),a=(n=Object(ze.a)(Qe,{context:{clientName:"gatewayGql"}}),i=Ae()(n,1)[0],{triggerFileIntegrityCheck:function(e){i({variables:e}).then((function(){})).catch((function(){}))}}).triggerFileIntegrityCheck;return r.isAssignmentAiGradingEligible.loading||void 0===r.isAssignmentAiGradingEligible.value?Tn||(Tn=Object(Re.d)(ye.a,null)):Object(Re.d)(IntegrityStatusContextProvider_IntegrityStatusContextProvider,null,Object(Re.d)(He.Consumer,null,(function(n){return Object(Re.d)(hi,Ce()({},e,{eventData:t._eventData,integrityContext:n,isAssignmentAiGradingEligible:r.isAssignmentAiGradingEligible.value,triggerFileIntegrityCheck:a}))})))};PeerItemEditView_PeerItemEditViewComponent.contextTypes={_eventData:b.a.object};var vi,Si,yi,Ii,wi,Ci,Ei,Ai,Oi=s.a.compose(Object(je.a)((function(e){return{showStaleAssignmentVersionError:!!e.location.query.showStaleAssignmentVersionError}})),Object(Ne.a)([pi.a,mi.a,It.a,yt.a,vt.a,di.a,li.a],(function(e,t,n,i,r,a,o,s){var c,u,l,d=s.computedItem,m=o.getState().displayablePhaseSchedule,p=a.getState();return{latestSubmissionAndRelated:e.getState().latestSubmissionAndRelated,naptimeSubmission:e.getState().naptimeSubmission,naptimeSubmissionSchema:e.getState().naptimeSubmissionSchema,draftHasLocalChanges:e.getState().hasLocalChanges,submissionAppState:t.getState(),isVerifiable:n.isProductVerificationEnabled()&&d&&Object(St.j)(d),courseId:i.getCourseId(),courseSlug:i.getCourseSlug(),courseBranchId:r.getBranchId()||i.getCourseId(),capabilitiesWithReasons:p.capabilitiesWithReasons,submissionDeadline:null==m?void 0:null===(c=m.phaseEnds)||void 0===c?void 0:c.submit,latestAttemptSummary:null===(u=p.submissionProgress)||void 0===u?void 0:u.latestAttemptSummary,isNewDraft:!(null!==(l=p.submissionProgress)&&void 0!==l&&l.latestDraftSummary),partnerId:i.getPartnerId()}})),Object(m.a)((function(e){return e.latestSubmissionAndRelated}),Object(Re.d)(ye.a,{className:"rc-PeerItemEditView"})),Object(xe.a)((function(e){return B()(B()({},e),{},{errorTree:e.latestSubmissionAndRelated.errorTree,lastSaveTime:e.latestSubmissionAndRelated.submission&&e.latestSubmissionAndRelated.submission.createdAt})})))(PeerItemEditView_PeerItemEditViewComponent),Pi=t("6xos"),components_PeerAnonymousReviewNotification=function(e){var t=e.reviews,n=t.reviews.reduce((function(e,t){return t.isAnonymous?e+1:e}),0);return 0===n?null:n===t.reviews.length?r.createElement(Vn.a,null,ut()("Your fellow learners have submitted their reviews anonymously. All names are still visible to course instructors.")):r.createElement(Vn.a,null,ut()("Some of your fellow learners have submitted their reviews anonymously. All names are still visible to course instructors."))},Ti=t("qPyB"),ki=t("7Diq"),Ri=t("YFce"),ji=t("dQ+p"),Ni=t("C2np"),xi=t("o5Sl"),_i=t("nsyj"),Di=t("CLNb"),Vi=t("T8wf"),Ui=t("ySha"),Li=t("2xu1"),Mi=t("9L+6"),Gi={container:function(){return Object(Re.c)(vi||(vi=We()(["\n    padding: var(--cds-spacing-200);\n    border-radius: var(--cds-border-radius-50);\n    background-color: var(--cds-color-interactive-stroke-primary-focus-invert);\n  "])))},flex:function(){return Object(Re.c)(Si||(Si=We()(["\n    display: flex;\n    gap: var(--cds-spacing-150);\n    margin-top: var(--cds-spacing-200);\n    align-items: center;\n  "])))},icon:function(){return Object(Re.c)(yi||(yi=We()(["\n    svg {\n      width: 60px;\n    }\n  "])))},controls:function(){return Object(Re.c)(Ii||(Ii=We()(["\n    margin-top: var(--cds-spacing-300);\n\n    button:last-child {\n      margin-left: var(--cds-spacing-50);\n    }\n  "])))}},ai_grading_AiSubmissionControls=function(e){var t=e.moreAttemptsAvailable,n=e.children,i=ut()("This assignment was graded by Coursera Coach. If you're unsatisfied with the scores or feedback, you can start a new attempt for your assignment or switch to have your assignment graded by your peers."),r=ut()("This assignment was graded by Coursera Coach. If you're unsatisfied with the scores or feedback, you can switch to have your assignment graded by your peers.");return Object(Re.d)("div",{css:Gi.container},wi||(wi=Object(Re.d)(Mi.a,null)),Object(Re.d)("div",{css:Gi.flex},Object(Re.d)("div",{css:Gi.icon},Ci||(Ci=Object(Re.d)(Li.a,{variant:"dark"}))),Object(Re.d)(xt.a,{variant:"body2"},t?i:r)),Object(Re.d)("div",{css:Gi.controls},n))},Bi=t("Ef0b"),qi=t("fsL8"),Hi=t.n(qi),Fi=t("yXPU"),Wi=t.n(Fi),$i=t("rzCt"),zi=t("fguj"),Yi=t("dhC9"),Qi=t("+GDw"),Ji=t("kUlC"),Ki=[{key:"1",label:ut()("Your current grades and feedback will be replaced with grades and feedback from your peers.")},{key:"2",label:ut()("You cannot receive grades and feedback from Coach unless you start a new attempt on your assignment.")},{key:"3",label:ut()("Grades and feedback from your peers may not be available right away.")}],Xi=[{key:"INCORRECT_GRADING",label:ut()("I don't believe the assignment was graded correctly")},{key:"USELESS_FEEDBACK",label:ut()("The written feedback is not helpful")},{key:"PREFER_HUMAN_GRADING",label:ut()("I prefer my peers to grade my assignment")},{key:"DO_NOT_LIKE_COURSERA_COACH",label:ut()("I don't like Coursera Coach grading my assignment")},{key:"OTHER",label:ut()("Other")}],ai_grading_RegradeTermsCheck=function(e){var t=e.onChange,n=Object(r.useState)(Ki.reduce((function(e,t){return B()(B()({},e),{},$n()({},"".concat(t.key),!1))}),{})),i=Ae()(n,2),a=i[0],o=i[1];return r.createElement(Qi.a,{label:ut()("By switching to peer grading, you acknowledge that:"),onChange:function(e,n){if(void 0!==a[e.target.value]){var i=B()(B()({},a),{},$n()({},e.target.value,n));o(i);var r=-1===Object.values(i).findIndex((function(e){return!1===e}));t(r)}}},Ki.map((function(e){return r.createElement(Ji.a,{label:e.label,value:e.key,key:e.key,checked:!0})})))},Zi=t("pZLH"),er=t("agHs"),tr=t("8mmq"),nr=t.n(tr),ai_grading_useRequestGradingByPeer=function(){var e=Object(Zi.a)(nr.a,{context:{clientName:"gatewayGql"}}),t=Ae()(e,2),n=t[0],i=t[1];return{requestGradingByPeer:function(){var e=Wi()(Hi()().mark((function _callee(e){var t;return Hi()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,n({variables:{input:e}});case 3:return t=i.sent,i.abrupt("return",t);case 7:return i.prev=7,i.t0=i.catch(0),er.captureException(i.t0),i.abrupt("return",null);case 11:case"end":return i.stop()}}),_callee,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),requestGradingByPeerState:i}},ir={cancelButton:function(){return Object(Re.c)(Ei||(Ei=We()(["\n    margin: 0 var(--cds-spacing-300);\n  "])))},error:function(){return Object(Re.c)(Ai||(Ai=We()(["\n    margin-top: var(--cds-spacing-300);\n  "])))}},reasonRequiresClarification=function(e){return"OTHER"===e||"DO_NOT_LIKE_COURSERA_COACH"===e},ai_grading_RegradeDialog=function(e){var t=e.courseId,n=e.submissionId,i=e.itemId,a=e.onClose,o=e.onSuccess,s=Qn.a.HeadingGroup,c=Qn.a.Content,u=Qn.a.Actions,l=Object(r.useState)(!1),d=Ae()(l,2),m=d[0],p=d[1],b=Object(r.useState)(),f=Ae()(b,2),g=f[0],h=f[1],v=Object(r.useState)(),S=Ae()(v,2),y=S[0],I=S[1],w=Object(r.useState)(!1),C=Ae()(w,2),E=C[0],A=C[1],O=ai_grading_useRequestGradingByPeer(),P=O.requestGradingByPeer,T=O.requestGradingByPeerState;Object(r.useEffect)((function(){I("")}),[g]),Object(r.useEffect)((function(){var e=m&&!!g&&(!reasonRequiresClarification(g)||!!y);A(e)}),[m,g,y]);var k=function(){var e=Wi()(Hi()().mark((function _callee(){var e,r,a;return Hi()().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(E){s.next=2;break}return s.abrupt("return");case 2:return r=reasonRequiresClarification(g)?"".concat(g,"|").concat(y):g,s.next=5,P({courseId:t,itemId:i,submissionId:n,reason:r});case 5:null!=(a=s.sent)&&null!==(e=a.data)&&void 0!==e&&e.PeerReviewAi_RequestGradingByPeer.submissionId&&o();case 7:case"end":return s.stop()}}),_callee)})));return function(){return e.apply(this,arguments)}}();return Object(Re.d)(Qn.a,{"aria-describedby":"request-human-grading-dialog",open:!0,variant:"transactional",onClose:a},Object(Re.d)(s,null,ut()("Do you want to switch to peer grading?")),Object(Re.d)(c,{id:"request-human-grading-dialog"},Object(Re.d)(Ln.a,{container:!0,spacing:24},Object(Re.d)(Ln.a,{item:!0,xs:12},Object(Re.d)(ai_grading_RegradeTermsCheck,{onChange:p})),Object(Re.d)(Ln.a,{item:!0,xs:12},Object(Re.d)($i.a,{label:ut()("Why are you switching to peer grading?"),placeholder:ut()("Select an option"),fullWidth:!0,onChange:function(e){h(e.target.value)}},Xi.map((function(e){return Object(Re.d)(zi.a,{value:e.key,key:e.key},e.label)})))),reasonRequiresClarification(g)&&Object(Re.d)(Ln.a,{item:!0,xs:12},Object(Re.d)(Yi.a,{label:ut()("Tell us more"),placeholder:ut()("Enter text here"),value:y||"",onChange:function(e){return I(e.target.value)},fullWidth:!0,maxLength:250}))),T.error&&Object(Re.d)(kt.a,{severity:"error",title:"Error",css:ir.error,onDismiss:function(){return T.reset()}},ut()("Something went wrong while submitting your request. Please try again."))),Object(Re.d)(u,null,Object(Re.d)(Nt.a,{disabled:!E||T.loading,onClick:k},ut()("Continue")),Object(Re.d)(Nt.a,{variant:"secondary",onClick:a,css:ir.cancelButton},ut()("Cancel"))))},RegradeButton_RegradeButton=function(e,t){var n=e.courseId,i=e.courseSlug,a=e.submissionId,o=e.itemId,s=Object(r.useState)(!1),c=Ae()(s,2),u=c[0],l=c[1],handleClose=function(){return l(!1)};return r.createElement(r.Fragment,null,u&&r.createElement(ai_grading_RegradeDialog,{courseId:n,itemId:o,submissionId:a,onClose:handleClose,onSuccess:function(){handleClose(),t.executeAction(Bi.d,{itemId:o,userId:d.a.get().id,courseId:n,courseSlug:i})}}),r.createElement(Nt.a,{variant:"ghost",size:"small",onClick:function(){return l(!0)}},ut()("Switch to peer grading")))};RegradeButton_RegradeButton.contextTypes={executeAction:b.a.func.isRequired};var rr,ar=RegradeButton_RegradeButton,or=(t("TSlG"),function(e){function PeerSubmissionWithReviewBody(){return e.apply(this,arguments)||this}i()(PeerSubmissionWithReviewBody,e);var t=PeerSubmissionWithReviewBody.prototype;return t.receivedReviewIsComplete=function(){var e=this.props,t=e.receivedReviewsProgress,n=e.reviews;return!!n&&n.length>0&&(!t||t&&t.isComplete)},t.shouldShowReviews=function(e){var t=this.props,n=t.reviewSchema,i=t.computedItem,r=t.gaveRequiredReviews,a=t.isFailed,o=i.isGraded;return!(!r&&!a)&&(!(0===(null!=n?s()(n.definition.parts).filter((function(t){return t.submissionSchemaPartId===e})):[]).length||o&&!Object(St.D)(i))&&this.receivedReviewIsComplete())},t.render=function(){var e=this,t=this.props,n=t.courseId,i=t.courseSlug,a=t.computedItem,o=t.submission,s=t.submissionId,c=t.submissionSchema,u=t.reviewSchema,l=t.reviewsSummary,d=t.reviews,m=t.isResubmissionDisabled,p=t.submittedForAiGrading,b=t.gaveRequiredReviews,f=t.isFailed,g=b&&this.receivedReviewIsComplete(),h=Object(oi.a)(u),v=ji.a.get("translateUserGeneratedContent");return r.createElement("div",{className:"rc-PeerSubmissionWithReviewsBody"},r.createElement(Ui.a,{isAIGraded:p,courseId:n,itemId:a.id,submissionId:s},!(!c||!o)&&c.parts.map((function(t){return r.createElement(Vi.a,{key:t.id},r.createElement(_i.a,{submissionSchemaPart:t,submissionPart:o.parts[t.id]}),e.shouldShowReviews(t.id)&&r.createElement(Di.a,null,r.createElement(ki.a,{reviewSchema:h,reviewsSummary:l,reviews:d,submissionSchemaPartId:t.id,submissionId:s,isAIGraded:p,enableTranslation:v})))})),this.shouldShowReviews()&&r.createElement(Vi.a,null,r.createElement(Di.a,null,r.createElement(ki.a,{reviewSchema:h,reviewsSummary:l,reviews:d,submissionSchemaPartId:null,submissionId:s,isAIGraded:p,enableTranslation:v}))),p&&(g||f)?r.createElement(ai_grading_AiSubmissionControls,{moreAttemptsAvailable:!!s&&!m},!!s&&!m&&r.createElement(xi.a,{computedItem:a,buttonMessage:ut()("Start new attempt")}),r.createElement(ar,{courseId:n,courseSlug:i,submissionId:s||"",itemId:a.id})):!!s&&!m&&r.createElement(Ln.a,{container:!0,justifyContent:"flex-end"},r.createElement(xi.a,{computedItem:a,buttonMessage:ut()("Start new attempt")})),null!=s&&r.createElement(Ni.a,{computedItem:a,courseId:n,submissionId:s})))},PeerSubmissionWithReviewBody}(r.Component)),sr=Object(mn.b)(Object(c.a)(["PeerViewSubmissionStore","PeerPermissionsAndProgressesStore","ProgressStore"],(function(e,t){var n,i,r=e.PeerViewSubmissionStore,a=e.PeerPermissionsAndProgressesStore,o=e.ProgressStore,s=r.getState().submissionAndRelated,c=r.getState().reviewSubmissionState,u="loaded"===r.getState().loadState;u&&null!=c&&(i=c.backboneReviews);var l=a.getState().receivedReviewProgresses,d=l&&l.evaluationIfReady?{typeName:"structured",definition:l.evaluationIfReady.aggregatedReviewsSummary}:null,m=l?{isComplete:!!l.evaluationIfReady,earliestCompletionTime:l.earliestCompletionTime,reviewCount:l.reviewCount,minCompletionReviewCount:l.defaultReceivedReviewRequiredCount}:null,p=o.courseProgress.getItemProgress(t.computedItem.id),b=new Ri.a(t.itemMetadata,p);return{submission:r.getState().naptimeSubmission,submissionId:r.getState().submissionId,reviews:i,reviewSchema:s&&s.reviewSchema,submissionSchema:r.getState().naptimeSubmissionSchema,reviewsSummary:d,receivedReviewsProgress:m,gaveRequiredReviews:0===b.remainingReviewCount(),submittedForAiGrading:"AI"===(null===(n=r.getState().submissionAndRelated)||void 0===n?void 0:n.submission.gradingType),isPeerViewSubmissionStoreLoaded:u,isFailed:b.isFailed()}})),Object(m.a)((function(e){return e.isPeerViewSubmissionStoreLoaded}),r.createElement(ye.a,{className:"rc-PeerSubmissionWithReviewsBody"})))(or),cr=(t("kljU"),s.a.compose(Object(c.a)(["PeerViewSubmissionStore",yt.a,vt.a,di.a],(function(e){var t,n,i,r,a,o,s,c=e.PeerViewSubmissionStore,u=e.CourseStore,l=e.SessionStore,d=e.WrappedReducerStore;return c.getState().submissionAndRelated&&(s=c.getState().submissionAndRelated.submission.definition.title,o=c.getState().submissionAndRelated.submission.id,a=c.getState().submissionAndRelated.submission.createdAt),{title:s,submissionId:o,lastSaveTime:a,reviews:null===(t=c.getState())||void 0===t?void 0:null===(n=t.reviewSubmissionState)||void 0===n?void 0:n.reviews,courseId:u.getCourseId(),courseSlug:u.getCourseSlug(),courseBranchId:l.getBranchId()||u.getCourseId(),isAnonymousPeerReviewEnabled:(null===(i=d.getState().capabilitiesWithReasons)||void 0===i?void 0:null===(r=i.anonymousPeerReview)||void 0===r?void 0:r.isAllowed)||!1}})),Object(m.a)((function(e){return e.submissionId})),l.b.createTrackedContainer((function(){return{namespace:{page:"peer_review_my_project_review"}}})))((function(e){var t=e.lastSaveTime,n=e.computedItem,i=e.itemMetadata,a=e.title,o=e.submissionId,s=e.courseBranchId,c=e.courseId,u=e.courseSlug,l=e.isResubmissionDisabled,d=e.reviews,m=e.isAnonymousPeerReviewEnabled;return(r.createElement("div",{className:"rc-PeerItemSubmittedView rc-AssignmentSubmit"},r.createElement(Tt,{itemId:n.id,courseBranchId:s,courseId:c,hasSubmitted:!0}),r.createElement(components_PeerAnonymousReviewNotification,{reviews:d}),r.createElement(Pi.a,{title:a,createdAt:t,shareableLink:m?void 0:r.createElement(Ti.a,{computedItem:n,submissionId:o})}),r.createElement(sr,{courseId:c,courseSlug:u,computedItem:n,itemMetadata:i,isResubmissionDisabled:l})))}))),ur=function(e){function PeerItemSubmit(){return e.apply(this,arguments)||this}return i()(PeerItemSubmit,e),PeerItemSubmit.prototype.render=function(){var e=this.props,t=e.isSubmitted,n=e.latestSubmissionId,i=e.computedItem,a=e.loadedPeerViewSubmissionId,o=e.isResubmissionDisabled,s=e.itemMetadata,c=a!==n;return r.createElement(Se,{isSubmitted:t,editView:r.createElement(Oi,{computedItem:i}),submittedView:c?rr||(rr=r.createElement(ye.a,{className:"rc-PeerItemSubmit"})):r.createElement(cr,{computedItem:i,itemMetadata:s,isResubmissionDisabled:o})})},PeerItemSubmit}(r.Component),lr=s.a.compose(l.b.createTrackedContainer((function(){return{namespace:{page:"peer_review_my_project"}}})),Object(c.a)(["CourseStore","PeerViewSubmissionStore","PeerPermissionsAndProgressesStore"],(function(e){var t=e.CourseStore,n=e.PeerViewSubmissionStore,i=e.PeerPermissionsAndProgressesStore;return{isPeerProgressesLoaded:"loaded"===i.getState().loadState,loadedPeerViewSubmissionId:n.getState().submissionId,isSubmitted:i.getState().isSubmitted,latestSubmissionId:i.getState().latestSubmissionId,courseId:t.getCourseId()}})),Object(m.a)((function(e){return e.isPeerProgressesLoaded}),r.createElement(ye.a,{className:"rc-PeerItemSubmit"})),Object(u.a)((function(e,t){var n=t.computedItem,i=t.courseId,r=t.isSubmitted,a=t.latestSubmissionId,o=t.loadedPeerViewSubmissionId;r&&a&&(o!==a&&e.executeAction(Ie.d,{userId:d.a.get().id,courseId:i,itemId:n.id,submissionId:a}))})))(ur);e.default=lr},"4uky":function(module,e,t){"use strict";var n=t("q1tI"),i=t("EqTq"),r=(t("QUzv"),Object(i.a)("PeerAnonymousNotification"));e.a=function(e){var t=e.children;return(n.createElement("div",{className:r()},t))}},"5Lf/":function(module,exports,e){},"5wfi":function(module,exports,e){e("5Lf/")},"6xos":function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t("dcEN"),o=t.n(a),s=t("17x9"),c=t.n(s),u=t("kvW3"),l=t("yhVA"),d=t.n(l),m=(t("SVYm"),function(e){function MySubmissionHeader(){return e.apply(this,arguments)||this}return i()(MySubmissionHeader,e),MySubmissionHeader.prototype.render=function(){var e=this.props,t=e.title,n=e.createdAt,i=e.shareableLink;return(r.createElement("div",{className:"rc-MySubmissionHeader bt3-clearfix"},r.createElement("div",{className:"headline-4-text"},t),r.createElement("div",{className:"horizontal-box"},!!n&&r.createElement("div",{className:"caption-text color-secondary-text"},r.createElement(u.b,{message:d()("Submitted on {creatorName}"),creatorName:o()(n).format("LL")})),i&&r.createElement("div",{className:"flex-1 align-right caption-text"},i))))},MySubmissionHeader}(r.Component));m.propTypes={title:c.a.string.isRequired,createdAt:c.a.number,shareableLink:c.a.element},e.a=m},"7Diq":function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t("+KAk"),o=(t("X129"),function(e){var t=e.reviewSchemaPart,n=Object(a.a)(t.get("typeName")).DisplayPart;return r.createElement("div",{className:"rc-DisplayPart"},r.createElement(n,e))}),s=t("yhVA"),c=t.n(s),u=(t("WS07"),function(e){function DisplayParts(){return e.apply(this,arguments)||this}return i()(DisplayParts,e),DisplayParts.prototype.render=function(){var e=this.props,t=e.reviewSchema,n=e.reviewsSummary,i=e.reviews,a=e.submissionSchemaPartId,s=e.submissionId,u=e.assignmentLevelPointsLabel,l=e.isAIGraded,d=e.enableTranslation,m=t.getPartsForSubmissionSchemaPart(a);return 0===m.length?null:r.createElement("div",{className:"rc-DisplayParts bgcolor-white"},r.createElement("div",{className:"title horizontal-box align-items-spacebetween label-text color-secondary-text"},r.createElement("span",null,null!=a?c()("Rubric"):c()("Overall Assignment Rubric")),r.createElement("span",null,null===a&&u)),r.createElement("div",{className:"body-1-text"},m.map((function(e){return r.createElement(o,{key:e.get("id"),reviewSchemaPart:e,reviewsSummary:n,reviews:i,submissionId:s,isAIGraded:l,enableTranslation:d})}))))},DisplayParts}(r.Component));e.a=u},"8mmq":function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RequestGradingByPeer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PeerReviewAi_RequestGradingByPeerInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"PeerReviewAi_RequestGradingByPeer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submissionId"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:157}};e.loc.source={body:"mutation RequestGradingByPeer($input: PeerReviewAi_RequestGradingByPeerInput!) {\n  PeerReviewAi_RequestGradingByPeer(input: $input) {\n    submissionId\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function findOperation(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}e.definitions.forEach((function(e){if(e.name){var n=new Set;!function collectFragmentReferences(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,t)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,t)}))}(e,n),t[e.name.value]=n}})),module.exports=e,module.exports.RequestGradingByPeer=function(e,n){var i={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=t[n]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var s=o;o=new Set,s.forEach((function(e){a.has(e)||(a.add(e),(t[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=findOperation(e,t);n&&i.definitions.push(n)})),i}(e,"RequestGradingByPeer")},"9L+6":function(module,e,t){"use strict";var n,i,r,a,o=t("VkAN"),s=t.n(o),c=t("AeFk"),u=(t("q1tI"),t("GXs9")),l=t("wC8J"),d=t("O5OZ"),m=t.n(d),p=t("xknJ"),b=t.n(p),f={container:function(){return Object(c.c)(n||(n=s()(["\n    display: flex;\n    align-items: flex-end;\n    gap: var(--cds-spacing-50);\n  "])))},tag:function(){return Object(c.c)(i||(i=s()(["\n    margin-left: var(--cds-spacing-100);\n  "])))}};e.a=function(){return Object(c.d)("div",{css:f.container},r||(r=Object(c.d)(u.a,{src:b.a,alt:"Coursera",width:104})),a||(a=Object(c.d)(u.a,{src:m.a,alt:"Coach",width:69})),Object(c.d)(l.a,{variant:"status",priority:"primary",color:"highlight1",css:f.tag},"Beta"))}},"9ZYf":function(module,exports,e){},AOca:function(module,exports,e){e("Qo1F")},AbQT:function(module,exports){function webpackEmptyContext(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id="AbQT"},C2np:function(module,e,t){"use strict";var n,i,r,a,o,s,c,u,l,d,m,p=t("q1tI"),b=t("lSNA"),f=t.n(b),g=t("3tO9"),h=t.n(g),v=t("VbXa"),S=t.n(v),y=t("VkAN"),I=t.n(y),w=t("AeFk"),C=t("17x9"),E=t.n(C),A=t("HOoY"),O=t("sQ/U"),P=t("8Hdl"),T=t("fw5G"),k=t.n(T),R=t("S+eF"),j=t.n(R),N=t("DnuM"),x=Object(N.a)("/api/onDemandPeerComments.v1",{type:"rest"}),D=["comment","attachedAssignmentId","creatorId","createdAt","peerSubmissionId","".concat("onDemandSocialProfiles.v1","(userId,externalUserId,fullName,photoUrl,courseRole,isAnonymous)")],onDemandPeerCommentsApi_getComments=function(e){var t=e.userId,n=e.courseId,i=e.itemId,r=e.submissionId,a=(new k.a).addQueryParam("q","submission").addQueryParam("userId",t.toString()).addQueryParam("peerSubmissionId","".concat(n,"~").concat(i,"~").concat(r)).addQueryParam("fields",D.join(",")).addQueryParam("includes","profiles");return j()(x.get(a.toString())).then((function(e){return{comments:e.elements,userProfiles:e.linked["onDemandSocialProfiles.v1"]}}))},onDemandPeerCommentsApi_submitComment=function(e){var t=e.courseId,n=e.itemId,i=e.submissionId,r=e.comment,a=(new k.a).addQueryParam("fields",D.join(",")).addQueryParam("includes","profiles");return j()(x.post(a.toString(),{data:{comment:r,peerSubmissionId:"".concat(t,"~").concat(n,"~").concat(i)}})).then((function(e){return{comments:e.elements,userProfiles:e.linked["onDemandSocialProfiles.v1"]}}))},V=t("wd/R"),U=t.n(V),L=t("ca6j"),M=t("dQ+p"),G=t("jJyI"),B=t("yhVA"),q=t.n(B),H={container:function(){return Object(w.c)(n||(n=I()(["\n    display: flex;\n    padding: var(--cds-spacing-150) 0;\n    margin-top: var(--cds-spacing-50);\n  "])))},profileImage:function(){return Object(w.c)(i||(i=I()(["\n    margin-right: var(--cds-spacing-150);\n  "])))},commentContainer:function(){return Object(w.c)(r||(r=I()(["\n    width: 100%;\n  "])))},nameAndTimeContainer:function(){return Object(w.c)(a||(a=I()(["\n    display: flex;\n    justify-content: space-between;\n    margin-top: var(--cds-spacing-50);\n    margin-bottom: var(--cds-spacing-150);\n  "])))}},comments_CommentRow=function(e){var t=e.commentData,n=t.creator,i=t.comment;return Object(w.d)("div",{css:H.container,"data-testid":"peer-comment-row"},Object(w.d)("div",{css:H.profileImage},Object(w.d)(L.a,{profile:n})),Object(w.d)("div",{css:H.commentContainer},Object(w.d)("div",{css:H.nameAndTimeContainer},Object(w.d)(P.a,{className:"pii-hide",variant:"h3bold",component:"strong","data-testid":"peer-comment-full-name"},n.isAnonymous?q()("Anonymous Learner"):n.fullName),Object(w.d)(P.a,{component:"div",variant:"body2",color:"supportText"},U()(i.createdAt).fromNow())),Object(w.d)(P.a,{component:"div",variant:"body1","data-testid":"peer-comment-content"},M.a.get("translateUserGeneratedContent")?Object(w.d)(G.a,{content:i.comment.definition.comment}):i.comment.definition.comment)))},F=t("dhC9"),W=t("ZJgU"),z={container:function(){return Object(w.c)(o||(o=I()(["\n    display: flex;\n  "])))},profileImage:function(){return Object(w.c)(s||(s=I()(["\n    margin-right: var(--cds-spacing-150);\n  "])))},inputContainer:function(){return Object(w.c)(c||(c=I()(["\n    width: 100%;\n  "])))},input:function(){return Object(w.c)(u||(u=I()(["\n    label {\n      display: none;\n    }\n\n    div {\n      margin-top: 0 !important;\n    }\n  "])))},buttonContainer:function(){return Object(w.c)(l||(l=I()(["\n    display: flex;\n    flex-direction: row-reverse;\n    margin-top: var(--cds-spacing-150);\n  "])))}},Y=function(e){function CommentTextArea(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={posting:!1},t.onChange=function(e){var n=e.target.value;t.setState({comment:n})},t.onPostClick=function(){var e=t.props.onPostingComment,n=t.state.comment;n&&(t.setState({posting:!0}),e(n).then((function(){t.setState({comment:"",posting:!1})})))},t}return S()(CommentTextArea,e),CommentTextArea.prototype.render=function(){var e=this.props.submissionId,t=this.state,n=t.comment,i=t.posting;return Object(w.d)("div",{css:z.container},Object(w.d)("div",{className:"pii-hide",css:z.profileImage},Object(w.d)(L.a,{profile:{photoUrl:O.a.get().photo_120,fullName:O.a.get().fullName}})),Object(w.d)("div",{css:z.inputContainer},Object(w.d)(F.a,{fullWidth:!0,multiline:!0,label:q()("Enter Peer Review comments"),value:n,id:"".concat(e,"~comment"),placeholder:q()("Share your thoughts..."),onChange:this.onChange,disabled:i,maxRows:3,css:z.input}),n&&Object(w.d)("div",{css:z.buttonContainer},Object(w.d)(W.a,{variant:"secondary",size:"small",onClick:this.onPostClick,loading:i},q()("Post")))))},CommentTextArea}(p.Component),Q={LOADING:"LOADING",LOAD_ERROR:"LOAD_ERROR",SUBMITING:"SUBMITING",SUBMIT_ERROR:"SUBMIT_ERROR",READY:"READY"},J={container:function(){return Object(w.c)(d||(d=I()(["\n    padding: 0 var(--cds-spacing-50);\n  "])))},inputContainer:function(){return Object(w.c)(m||(m=I()(["\n    margin-top: var(--cds-spacing-150);\n  "])))}},K=function(e){function CommentsContainer(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={commentRowData:[],networkState:Q.READY},t.onCommentFetchSuccess=function(e){var n=e.comments,i=e.userProfiles.reduce((function(e,t){return h()(h()({},e),{},f()({},t.userId,t))}),{});t.setState({commentRowData:n.map((function(e){return{comment:e,creator:i[e.creatorId]}})),networkState:Q.READY})},t.onPostingComment=function(e){var n=t.props,i=n.courseId,r=n.itemId,a=n.submissionId,o=t.context._eventData;return t.setState({networkState:Q.SUBMITING}),onDemandPeerCommentsApi_submitComment({comment:{typeName:"plain",definition:{comment:e}},courseId:i,itemId:r,submissionId:a}).then((function(){A.a.trackComponent(o,{comment_user_id:O.a.get().id,comment:e},"click","post")})).catch((function(){t.setState({networkState:Q.SUBMIT_ERROR})})).then(t.fetchComments)},t.fetchComments=function(){var e=t.props,n=e.courseId,i=e.itemId,r=e.submissionId;return onDemandPeerCommentsApi_getComments({userId:O.a.get().id,courseId:n,itemId:i,submissionId:r}).then(t.onCommentFetchSuccess).catch((function(){t.setState({networkState:Q.LOAD_ERROR})}))},t}S()(CommentsContainer,e);var t=CommentsContainer.prototype;return t.componentDidMount=function(){this.setState({networkState:Q.LOADING}),this.fetchComments()},t.componentDidUpdate=function(e){var t=this.props,n=t.courseId,i=t.itemId,r=t.submissionId;e.courseId===n&&e.itemId===i&&e.submissionId===r||this.fetchComments()},t.render=function(){var e=this.props.submissionId,t=this.state,n=t.commentRowData,i=t.networkState;return Object(w.d)("div",{css:J.container,"data-testid":"peer-comments-section"},i!==Q.READY&&Object(w.d)("p",null,function(e){return{LOADING:q()("Loading..."),LOAD_ERROR:q()("Load error!"),SUBMITING:q()("Submitting..."),SUBMIT_ERROR:q()("Submit error!")}[e]}(i)),Object(w.d)(P.a,{variant:"h3semibold"},q()("Comments")),Object(w.d)(P.a,{variant:"body2","data-testid":"peer-comments-caption-text"},q()("Comments left for the learner are visible only to that learner and the person who left the comment.")),Object(w.d)("div",{css:J.inputContainer},Object(w.d)(Y,{submissionId:e,onPostingComment:this.onPostingComment})),Object(w.d)("div",null,n.map((function(e){return Object(w.d)(comments_CommentRow,{commentData:e,key:"".concat(e.comment.createdAt,"~").concat(e.comment.creatorId)})}))))},CommentsContainer}(p.Component);K.contextTypes={_eventData:E.a.object};var X=K;t("c82m"),t("AOca"),e.a=function(e){var t=e.computedItem,n=e.submissionId,i=e.courseId;return(p.createElement("div",{className:"rc-CommentsSection card-rich-interaction cozy"},p.createElement(X,{courseId:i,itemId:t.id,submissionId:n})))}},CLNb:function(module,e,t){"use strict";var n=t("q1tI"),i=t("eJW0"),r=t.n(i);t("5wfi");e.a=function(e){var t=e.children,i=e.ariaLabel;return t?n.createElement("div",{className:"rc-SubmissionViewCell",role:"region","aria-label":i&&r()("Review prompt: #{ariaLabel}",{ariaLabel:i})},t):null}},EGbX:function(module,exports,e){},GKzL:function(module,exports,e){var t=e("+lOM"),n=t.default?t.default:{},i=(0,e("HdzH").default)(n);i.getLocale=function(){return"en"},module.exports=i},IbxQ:function(module,e,t){"use strict";t.d(e,"a",(function(){return useHtmlToCml}));var n=t("q1tI"),i=t("aNDK"),useHtmlToCml=function(e,t){var r,a,o,s=Object(n.useMemo)((function(){return new i.a}),[]);return"html"===(null==e?void 0:e.typeName)?o=s.toCML(e.definition,!0,!0):"Submission_HtmlContent"===(null==e?void 0:e.__typename)&&(o=s.toCML(e.value,!0,!0)),{cmlContent:{typeName:"cml",definition:{dtdId:t||(null==e?void 0:e.dtdId)||(null==e?void 0:null===(r=e.definition)||void 0===r?void 0:r.dtdId)||"assess/1",value:o||(null==e?void 0:e.cmlValue)||(null==e?void 0:null===(a=e.definition)||void 0===a?void 0:a.value)}}}}},Nfse:function(module,exports,e){e("SHoU")},"O+1n":function(module,e,t){"use strict";var n=t("S+eF"),i=t.n(n),r=t("sQ/U"),a=t("k8gO"),o=t("welz"),s=t.n(o).a.Model.extend({});t.d(e,"a",(function(){return assignmentVerificationTest_fetchVerifiableId})),t.d(e,"b",(function(){return assignmentVerificationTest_verifyAssignment}));var assignmentVerificationTest_fetchVerifiableId=function(){var e=r.a.get().id;return i.a.resolve("".concat(Object(a.a)(),"~").concat(e))},assignmentVerificationTest_verifyAssignment=function(e,t){var n=r.a.get().id;return i.a.resolve(new s({isApprovedForVerificationState:!0,verifiableId:e.split("~")[0],nextVerificationState:"Success",id:e,userId:n,expiresAt:Date.now()+2592e6}))}},O5OZ:function(module,exports){module.exports="https://coursera_assets.s3.amazonaws.com/images/8dd8a6e1a048852a9223c9fdeb679c5d.svg"},Oejf:function(module,exports){module.exports={name:"alice",parameters:[{name:"aliceEnabled",valid:[!0,!1],value:!1}]}},QUzv:function(module,exports,e){e("iUdz")},Qo1F:function(module,exports,e){},SHoU:function(module,exports,e){},SVYm:function(module,exports,e){e("z/Vw")},T8wf:function(module,e,t){"use strict";var n=t("q1tI");t("e9Hh");e.a=function(e){var t=e.children;return(n.createElement("div",{className:"rc-SubmissionViewTable"},t))}},TSlG:function(module,exports,e){e("nAcj")},Tqty:function(module,exports,e){e("x39J")},U4Db:function(module,exports,e){},WMAa:function(module,exports,e){e("w2bJ")},WS07:function(module,exports,e){e("rRPC")},X129:function(module,exports,e){e("9ZYf")},Z6wk:function(module,exports,e){},ZSJn:function(module,e,t){"use strict";e.a=function(e){var t=e.type,n=e.courseBranchId,i=e.contextType;this.type=t,this.courseBranchId=n,this.contextType=i}},ZYEf:function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t("TSYQ"),o=t.n(a),s=t("iNi2"),c=t("IDuc"),u=t("yOiu"),l=t.n(u),d=function(e){function PurchaseCoursePromptButton(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={showModal:!1},t.onClick=function(){return t.setState({showModal:!0})},t.onClose=function(){return t.setState({showModal:!1})},t}return i()(PurchaseCoursePromptButton,e),PurchaseCoursePromptButton.prototype.render=function(){var e=this.state.showModal,t=this.props,n=t.className,i=t.courseId,a=t.buttonText,u=t.buttonClassName;return r.createElement("div",{className:o()("rc-PurchaseCoursePromptButton",n)},r.createElement(c.a,{className:o()("c-open-single-page-action-button",u||"primary"),onClick:this.onClick,trackingName:"upgrade"},a||l()("Upgrade to submit")),e&&r.createElement(s.a,{courseId:i,onClose:this.onClose}))},PurchaseCoursePromptButton}(r.Component);e.a=d},Zr0k:function(module,e,t){"use strict";var n=t("RIqP"),i=t.n(n),r=t("fsL8"),a=t.n(r),o=t("yXPU"),s=t.n(o),c=t("Ef0b"),u=t("uhR6"),l=t("DnuM"),d=Object(l.a)("/api/onDemandPeerSubmissionAttempts.v1",{type:"rest"}),startNewAttempt=function(e){var t=e.itemId,n=e.courseId;return d.post("",{data:{courseId:n,itemId:t}})},m=t("Q3zy"),p=t("5AUN"),b=t("Hk9X");t.d(e,"b",(function(){return SubmissionActions_localUpdateSubmission})),t.d(e,"a",(function(){return SubmissionActions_autoSaveSubmission})),t.d(e,"c",(function(){return SubmissionActions_saveSubmission})),t.d(e,"d",(function(){return g})),t.d(e,"f",(function(){return SubmissionActions_upgradeSubmission})),t.d(e,"e",(function(){return SubmissionActions_submitSubmission}));var SubmissionActions_onSaveSuccess=function(e){return function(t){return e.dispatch(u.a.PEER_SUBMIT_UPDATE_ALERTS,{severity:"warning"}),e.dispatch(u.a.PEER_SUBMIT_UPDATE_LATEST_SUBMISSION_DRAFT,{latestSubmissionAndRelated:t}),e.dispatch(u.a.PEER_SUBMISSION_APP_STATE_SAVE_SUCCESS),t}},SubmissionActions_onSaveFailure=function(e){return function(t){if(t.responseJSON||t.status)return e.dispatch(u.a.PEER_SUBMISSION_APP_STATE_SAVE_ERROR,{statusCode:t.status,response:t.responseJSON}),null;throw t}},SubmissionActions_localUpdateSubmission=function(e,t){var n=t.submission;e.dispatch(u.a.PEER_SUBMIT_LOCAL_UPDATE_DRAFT_SUBMISSION,{submission:n})},f=function(){var e=s()(a()().mark((function _callee(e,t){var n,i,r,o;return a()().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=t.isNewDraft,i=t.itemId,r=t.userId,o=t.courseId,n&&e.executeAction(c.b,{itemId:i,userId:r,courseId:o});case 2:case"end":return a.stop()}}),_callee)})));return function(t,n){return e.apply(this,arguments)}}(),SubmissionActions_updateSubmissionDraft=function(e){var t=e.userId,n=e.courseId,i=e.itemId,r=e.submission;if(null==r.versionedAssignmentId)throw new Error("Error saving draft submission: could not find existing assignment id");return m.c({userId:t,courseId:n,itemId:i,submissionDraftUpdate:{submission:{title:r.definition.title,parts:r.definition.parts},attachedAssignmentId:r.versionedAssignmentId}})},SubmissionActions_autoSaveSubmission=function(e,t){var n=t.userId,i=t.courseId,r=t.itemId,a=t.submission,o=t.isNewDraft,s=t.partnerId;return e.dispatch(u.a.PEER_SUBMISSION_APP_STATE_AUTO_SAVING),SubmissionActions_updateSubmissionDraft({userId:n,courseId:i,itemId:r,submission:a}).then((function(e){return Object(b.d)(e)})).then(function(e){return function(t){return e.dispatch(u.a.PEER_SUBMIT_UPDATE_ALERTS,{severity:"warning"}),e.dispatch(u.a.PEER_SUBMIT_UPDATE_LATEST_SUBMISSION_DRAFT,{latestSubmissionAndRelated:t}),e.dispatch(u.a.PEER_SUBMISSION_APP_STATE_AUTO_SAVE_SUCCESS),t}}(e),SubmissionActions_onSaveFailure(e)).then((function(t){return f(e,{userId:n,courseId:i,itemId:r,isNewDraft:o,partnerId:s}),t}))},SubmissionActions_saveSubmission=function(e,t){var n=t.userId,i=t.courseId,r=t.itemId,a=t.submission,o=t.isNewDraft,s=t.partnerId;return e.dispatch(u.a.PEER_SUBMISSION_APP_STATE_SAVING),SubmissionActions_updateSubmissionDraft({userId:n,courseId:i,itemId:r,submission:a}).then((function(e){return Object(b.d)(e)})).then(SubmissionActions_onSaveSuccess(e),SubmissionActions_onSaveFailure(e)).then((function(t){return f(e,{userId:n,courseId:i,itemId:r,isNewDraft:o,partnerId:s}),t}))},g=function(){var e=s()(a()().mark((function _callee2(e,t){var n,i,r,o;return a()().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.courseId,i=t.courseSlug,r=t.userId,o=t.itemId,e.dispatch(u.a.PEER_SUBMISSION_APP_STATE_SAVING),a.next=4,startNewAttempt({courseId:n,itemId:o});case 4:return e.dispatch(u.a.PEER_SUBMISSION_APP_STATE_SAVE_SUCCESS),a.abrupt("return",e.executeAction(c.d,{itemId:o,userId:r,courseId:n,courseSlug:i}));case 6:case"end":return a.stop()}}),_callee2)})));return function(t,n){return e.apply(this,arguments)}}(),SubmissionActions_upgradeSubmission=function(e,t){t.assignmentVersion;var n=t.forceUpgradeToAssignmentVersion,i=t.itemId,r=t.courseId,a=t.courseSlug,o=t.userId,s=t.submission;if(null==s.versionedAssignmentId)throw new Error("Error upgrading assignment: could not find existing assignment id");var u="".concat(s.versionedAssignmentId.split("@")[0],"@").concat(n);return m.a({userId:o,courseId:r,itemId:i,forceUpgradeToAssignmentId:u}).then((function(e){return Object(b.f)(e)})).then((function(e){return SubmissionActions_updateSubmissionDraft({itemId:i,submission:e,courseId:r,userId:o})})).then((function(e){return Object(b.d)(e)})).catch(SubmissionActions_onSaveFailure(e)).then((function(){return e.executeAction(c.d,{itemId:i,userId:o,courseId:r,courseSlug:a})}))},SubmissionActions_submitSubmission=function(e,t){var n=t.itemId,r=t.submission,a=(t.assignmentVersion,t.verifiableId),o=t.courseId,s=t.courseSlug,l=t.userId,d=t.gradingType,m=void 0===d?"HUMAN":d;return e.dispatch(u.a.PEER_SUBMISSION_APP_STATE_SUBMITTING),SubmissionActions_updateSubmissionDraft({itemId:n,submission:r,courseId:o,userId:l}).then((function(e){return Object(b.d)(e)})).then(SubmissionActions_onSaveSuccess(e),SubmissionActions_onSaveFailure(e)).then((function(e){var t=!1;e&&e.errorTree&&e.errorTree.errors&&(t=!![].concat(i()(e.errorTree.errors),i()(Object.keys(e.errorTree.children).reduce((function(t,n){return[].concat(i()(t),i()(e.errorTree.children[n].errors))}),[]))).some((function(e){return e.blocksSubmit})));if(t||!e)throw new Error("submit blocked by errors");return e})).then((function(e){return p.d({courseId:o,itemId:n,verifiableId:a,draftCreatedAt:e.submission.createdAt,gradingType:m})})).then((function(){return e.dispatch(u.a.PEER_SUBMISSION_APP_STATE_SUBMIT_SUCCESS),e.executeAction(c.d,{itemId:n,userId:l,courseId:o,courseSlug:s})})).catch((function(){return e.dispatch(u.a.PEER_SUBMISSION_APP_STATE_SUBMIT_ERROR)}))}},awLj:function(module,exports,e){e("Z6wk")},c82m:function(module,exports,e){e("3w12")},e9Hh:function(module,exports,e){e("3blG")},eryu:function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetAiGradingEligibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assignmentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assignmentVersion"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"courseId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"itemId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"PeerReviewAi"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getAiGradingEligibility"},arguments:[{kind:"Argument",name:{kind:"Name",value:"assignmentId"},value:{kind:"Variable",name:{kind:"Name",value:"assignmentId"}}},{kind:"Argument",name:{kind:"Name",value:"assignmentVersion"},value:{kind:"Variable",name:{kind:"Name",value:"assignmentVersion"}}},{kind:"Argument",name:{kind:"Name",value:"courseId"},value:{kind:"Variable",name:{kind:"Name",value:"courseId"}}},{kind:"Argument",name:{kind:"Name",value:"itemId"},value:{kind:"Variable",name:{kind:"Name",value:"itemId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEligible"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:317}};e.loc.source={body:"query GetAiGradingEligibility($assignmentId: ID!, $assignmentVersion: Int!, $courseId: ID!, $itemId: ID!) {\n  PeerReviewAi {\n    getAiGradingEligibility(\n      assignmentId: $assignmentId\n      assignmentVersion: $assignmentVersion\n      courseId: $courseId\n      itemId: $itemId\n    ) {\n      isEligible\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function findOperation(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}e.definitions.forEach((function(e){if(e.name){var n=new Set;!function collectFragmentReferences(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,t)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,t)}))}(e,n),t[e.name.value]=n}})),module.exports=e,module.exports.GetAiGradingEligibility=function(e,n){var i={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=t[n]||new Set,a=new Set,o=new Set;for(r.forEach((function(e){o.add(e)}));o.size>0;){var s=o;o=new Set,s.forEach((function(e){a.has(e)||(a.add(e),(t[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var n=findOperation(e,t);n&&i.definitions.push(n)})),i}(e,"GetAiGradingEligibility")},fiqM:function(module,e,t){"use strict";var n,i,r,a,o=t("q1tI"),s=t("pVnL"),c=t.n(s),u=t("MnCE"),l=t("+ojs"),SvgInfo_SvgInfo=function(e){return o.createElement(l.a,c()({},e,{viewBox:"0 0 48 48"}),n||(n=o.createElement("title",null,"Info")),i||(i=o.createElement("path",{d:"M24,46 C11.869,46 2,36.131 2,24 C2,11.869 11.869,2 24,2 C36.131,2 46,11.869 46,24 C46,36.131 36.131,46 24,46 M24,0 C10.767,0 0,10.767 0,24 C0,37.233 10.767,48 24,48 C37.233,48 48,37.233 48,24 C48,10.767 37.233,0 24,0"})),r||(r=o.createElement("path",{d:"M24,16 C25.105,16 26,15.104 26,14 C26,12.896 25.105,12 24,12 C22.895,12 22,12.896 22,14 C22,15.104 22.895,16 24,16"})),a||(a=o.createElement("polygon",{points:"25.4962 20.0093 20.4962 20.0093 20.4962 22.0093 23.4962 22.0093 23.4962 34.0093 20.4962 34.0093 20.4962 36.0093 28.4962 36.0093 28.4962 34.0093 25.4962 34.0093"})))};(SvgInfo_SvgInfo=Object(u.i)(SvgInfo_SvgInfo)).displayName="SvgInfo";var d,m=SvgInfo_SvgInfo,p=(t("Nfse"),function(e){var t=e.translatedMsg;return(o.createElement("div",{className:"rc-LightNotification"},d||(d=o.createElement("div",{className:"icon"},o.createElement(m,{size:24,color:"white"}))),o.createElement("span",{className:"message"},t)))}),b=t("yhVA"),f=t.n(b);e.a=function(){return o.createElement(p,{translatedMsg:f()("Follow the instructions to complete this activity. Your grade will be updated after review by course staff.")})}},g0DA:function(module,e,t){"use strict";t.d(e,"b",(function(){return useAiGradingContext}));var n=t("J4zp"),i=t.n(n),r=t("q1tI"),a=t("+TN3"),o=t("eryu"),s=t.n(o),c=t("exjt"),u=r.createContext(void 0);function useAiGradingContext(){var e=Object(r.useContext)(u);if(void 0===e)throw new Error("`useAiGradingContext` was used outside of `AiGradingProvider`. Ensure your component is nested under `<AiGradingContext>`.");return e}e.a=function(e){var t,n,o,l=e.courseId,d=e.itemId,m=e.assignmentId,p=e.assignmentVersion,b=e.children,f=Object(c.b)(),g=Object(r.useState)(!0),h=i()(g,2),v=h[0],S=h[1],y=Object(a.b)(s.a,{variables:{assignmentId:m,assignmentVersion:p,courseId:l,itemId:d},skip:!f,context:{clientName:"gatewayGql"},onCompleted:function(){S(!1)},onError:function(){S(!1)}}),I=f&&!(null===(t=y.data)||void 0===t||null===(n=t.PeerReviewAi)||void 0===n||null===(o=n.getAiGradingEligibility)||void 0===o||!o.isEligible),w=f&&v;return r.createElement(u.Provider,{value:{isAiEpicEnabled:f,isAssignmentAiGradingEligible:{loading:w,value:I}}},b)}},iUdz:function(module,exports,e){},jcHc:function(module,exports,e){e("oQxv")},kljU:function(module,exports,e){e("2RWD")},nAcj:function(module,exports,e){},nsyj:function(module,e,t){"use strict";var n,i,r=t("VbXa"),a=t.n(r),o=t("q1tI"),s=t("TSYQ"),c=t.n(s),u=t("Ev5W"),components_GitRepoView=function(e){var t=e.submissionPart;return(o.createElement(u.a,{repositoryId:t.gitRepositoryId,launchRole:t.launchRole,courseId:t.courseId,itemId:t.itemId,learnerUserId:t.submitterUserId}))},l=t("fiqM"),d=t("PNHL"),m=t("rlpc"),p=t("CLNb"),b=t("0OjG"),translation_TranslatedPlainTextView=function(e){var t=e.submissionPart,n=e.enableTranslation;return(o.createElement("span",{className:"rc-PlainTextView"},t.plainText&&o.createElement("p",{className:"body-1-text",style:{whiteSpace:"pre-line",wordWrap:"break-word"}},o.createElement(b.a,{plainText:t.plainText,enableTranslation:n}))))},f=t("UW5Q"),g=t("+t46"),translation_TranslatedRichTextView=function(e){var t=e.submissionPart,n=e.enableTranslation;return(o.createElement(f.a,null,o.createElement(g.a,{content:t.richText,assumeStringIsHtml:!0,enableTranslation:n})))},h=t("beC1"),v=t("yhVA"),S=t.n(v),y=(t("awLj"),function(e){function SubmissionPartView(){return e.apply(this,arguments)||this}a()(SubmissionPartView,e);var t=SubmissionPartView.prototype;return t.renderSpecificPart=function(){var e=this.props,t=e.submissionPart,i=e.showAutoSubmittedNote,r=e.enableTranslation;if(!t)return null;switch(t.typeName){case"plainText":return o.createElement(translation_TranslatedPlainTextView,{submissionPart:t.definition,enableTranslation:r});case"richText":return o.createElement(translation_TranslatedRichTextView,{submissionPart:t.definition,enableTranslation:r});case"url":return o.createElement(m.a,{submissionPart:t.definition});case"fileUpload":return o.createElement(d.a,{submissionPart:t.definition});case"offPlatform":return i&&(n||(n=o.createElement(l.a,null)));case"git":return o.createElement(components_GitRepoView,{submissionPart:t.definition});default:return null}},t.render=function(){var e=this.props,t=e.submissionSchemaPart,n=e.isInvalid,r=c()("rc-SubmissionPartView","bgcolor-white",{invalid:n});return o.createElement(p.a,null,o.createElement("div",{className:r},o.createElement("div",{className:"title label-text color-secondary-text"},S()("Prompt")),o.createElement("div",{className:"prompt caption-text color-secondary-text"},o.createElement(h.a,{content:t.prompt,assumeStringIsHtml:!0})),o.createElement("div",{className:"body-1-text scrollable"},this.renderSpecificPart()),n&&(i||(i=o.createElement("div",{className:"body-2-text color-danger"},"Invalid submission part")))))},SubmissionPartView}(o.Component));y.defaultProps={isInvalid:!1,showAutoSubmittedNote:!1};e.a=y},o5Sl:function(module,e,t){"use strict";var n,i=t("J4zp"),r=t.n(i),a=t("q1tI"),o=t("MnCE"),s=t("8cuT"),c=t("BVC1"),u=t("vXr1"),l=t("gNwb"),d=t("KBPx"),m=t("lSNA"),p=t.n(m),b=t("AeFk"),f=t("sQ/U"),g=t("7NTc"),h=t("8Hdl"),v=t("ZJgU"),S=t("8xbv"),y=t("pVnL"),I=t.n(y),w=t("VbXa"),C=t.n(w),E=t("17x9"),A=t.n(E),O=t("PStO"),P=t("Zr0k"),T=t("yhVA"),k=t.n(T),R={primaryButton:function(e){return Object(b.c)(p()({},e.breakpoints.down("xs"),{width:"100%",maxWidth:"none"}))},buttonText:Object(b.c)({height:"24px"}),secondaryButton:function(e){return Object(b.c)(p()({margin:e.spacing(0,24,0)},e.breakpoints.down("xs"),{width:"100%",maxWidth:"none",margin:e.spacing(24,0,0)}))}},j=Object(o.b)((function(e){return Object(o.b)(O.b.createContainer((function(){return{}})),(function(e){var t;return(t=function(t){function Wrapper(){return t.apply(this,arguments)||this}return C()(Wrapper,t),Wrapper.prototype.render=function(){return a.createElement(e,I()({},this.props,this.context))},Wrapper}(a.Component)).displayName="withFluxibleContextAsProps(".concat(e.displayName||e.name||"Component",")"),t.contextTypes={executeAction:A.a.func,executeMutation:A.a.func,getStore:A.a.func},t}))(e)}))((function(e){var t=e.handleCancel,i=e.executeAction,o=e.computedItem.id,s=e.courseId,c=e.courseSlug,u=g.a.HeadingGroup,l=g.a.Content,d=g.a.Actions,m=Object(a.useState)(!1),p=r()(m,2),y=p[0],I=p[1];return Object(b.d)(g.a,{"aria-describedby":"dialog-content",open:!0,onClose:t},Object(b.d)(u,null,k()("Ready to start a new attempt?")),Object(b.d)(l,{id:"dialog-content"},Object(b.d)(h.a,{variant:"body1",component:"p"},k()("Your new attempt will clear your previous submission and peer review feedback. If you cancel and don't attempt again, what you've submitted will count towards your final grade."))),Object(b.d)(d,null,Object(b.d)(v.a,{css:R.primaryButton,disabled:y,size:"medium",variant:"primary",onClick:function(){var e=f.a.get().id;I(!0),i(P.d,{itemId:o,userId:e,courseId:s,courseSlug:c})},"aria-label":k()("Continue"),"data-test":"continue"},Object(b.d)("span",{css:R.buttonText,"aria-hidden":!0},y?n||(n=Object(b.d)(S.a,null)):k()("Continue"))),Object(b.d)(v.a,{css:R.secondaryButton,size:"medium",variant:"secondary",onClick:t,"data-test":"cancel"},k()("Cancel"))))}));e.a=Object(o.b)(Object(s.a)(["PeerPermissionsAndProgressesStore","CourseStore","PeerSubmissionAppStateStore"],(function(e){var t,n,i,r,a,o=e.PeerPermissionsAndProgressesStore,s=e.CourseStore,c=e.PeerSubmissionAppStateStore,u="loaded"===o.getState().loadState,l=!(null!==(t=o.getState().submissionProgress)&&void 0!==t&&t.latestAttemptSummary),d=null===(n=o.getState().submissionProgress)||void 0===n?void 0:null===(i=n.latestAttemptSummary)||void 0===i?void 0:i.remainingAttempts;return{hasLoaded:u,canDelete:((null===(r=o.getState())||void 0===r?void 0:r.capabilities)||[]).includes("deleteSubmission"),courseId:s.getCourseId(),courseSlug:s.getCourseSlug(),canStartNewAttempt:l||!!d&&d>0,startAttemptState:null===(a=c.getState())||void 0===a?void 0:a.saveState}})))((function(e){var t=e.hasLoaded,n=e.canDelete,i=e.computedItem,o=e.courseId,s=e.courseSlug,m=e.canStartNewAttempt,p=e.startAttemptState,b=e.buttonSize,f=void 0===b?"small":b,g=Object(u.b)(),h=Object(a.useState)(!1),v=r()(h,2),S=v[0],y=v[1],I=Object(d.a)(p),w=Object(a.useCallback)((function(){y(!1)}),[]);return Object(a.useEffect)((function(){t&&"saving"===I&&"ready"===p&&(g.push(c.a.join(i.resourcePath,"submit")),w())}),[t,i.resourcePath,p,I,g,w]),t?a.createElement(a.Fragment,null,a.createElement(l.c,{variant:"secondary",disabled:!n||!m,onClick:function(){y(!0)},trackingName:"reattempt_project_submission",size:f},k()("Start new attempt")),S&&a.createElement(j,{computedItem:i,courseId:o,courseSlug:s,handleCancel:w})):null}))},oQxv:function(module,exports,e){},qPyB:function(module,e,t){"use strict";var n=t("VbXa"),i=t.n(n),r=t("q1tI"),a=t("eJMc"),o=t.n(a),s=t("DnuM"),c=t("BVC1"),u=t("sQ/U"),l=t("hbUA"),d=t("yhVA"),m=t.n(d),p=Object(s.a)("/api/onDemandPeerSubmissions.v1",{type:"rest"}),b=function(e){function PeerItemShareableLink(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={showLink:!1},t}i()(PeerItemShareableLink,e);var t=PeerItemShareableLink.prototype;return t.componentDidMount=function(){var e=this,t=this.props.computedItem;p.post("?action=disableUrlSharing&userId=".concat(u.a.get().id,"&courseId=").concat(t.courseId),{data:{}}).then((function(t){!1===t&&e.setState({showLink:!0})}))},t.render=function(){var e=this.props,t=e.computedItem,n=e.submissionId,i=this.state.showLink;if(Object(l.u)(t)||!i)return null;var a=c.a.join([t.resourcePath,"review",n]);return(r.createElement(o.a,{to:a,className:"rc-PeerItemShareableLink"},m()("Shareable Link")))},PeerItemShareableLink}(r.Component);e.a=b},rC9M:function(module,exports,e){var t,n,i;window,i=function(e,t,n){return function(n){return n&&"_t"in n&&(t=n._t.merge(t)),function(n){var i,r=[],a=n||{};return function(t){r.push('<div class="hide confirm-navigation modal"><div class="modal-header"><h3>'+e.escape(null==(i=t("Confirm Navigation"))?"":i)+'</h3></div><div class="modal-body"><div class="confirm-navigation-message"></div><div>'+e.escape(null==(i=t("Are you sure you want to leave this page?"))?"":i)+'</div></div><div class="modal-footer"><button data-modal-close="data-modal-close" class="passive confirm-navigation-stay">'+e.escape(null==(i=t("Stay on this Page"))?"":i)+'</button>&nbsp;&nbsp;<button data-modal-close="data-modal-close" data-modal-action="leave" class="primary confirm-navigation-leave">'+e.escape(null==(i=t("Leave this Page"))?"":i)+"</button></div></div>")}.call(this,"_t"in a?a._t:void 0!==t?t:void 0),r.join("")}(n)}},t=[e("xgPa"),e("GKzL")],void 0===(n=function(e,t){return i(e,t)}.apply(exports,t))||(module.exports=n)},rRPC:function(module,exports,e){},w2bJ:function(module,exports,e){},x39J:function(module,exports,e){},xknJ:function(module,exports){module.exports="https://coursera_assets.s3.amazonaws.com/images/8d0a6aa5dd755163a601fcbe70e342c0.svg"},xmcF:function(module,e,t){"use strict";var n,i=t("VbXa"),r=t.n(i),a=t("q1tI"),o=t("17x9"),s=t.n(o),c=t("jGbM"),u=t("sQ/U"),l=t("fw5G"),d=t.n(l),m=t("DnuM"),p=t("nZ8s"),b=Object(m.a)("/api/aliceMessages.v1",{type:"rest"}),AliceActions_publishAliceNotification=function(e,t){var n=t.event,i=n.type;return e.getStore("AliceStore").getMessagesForEventType(i)||(e.dispatch("REQUESTING_ALICE_MESSAGES",{eventType:i}),function(e){var t,n=e.type,i=e.courseBranchId,r=e.contextType;return i?t=(new d.a).addQueryParam("q","byBranchAndEventType").addQueryParam("eventType",n).addQueryParam("branchId",i):r&&(t=(new d.a).addQueryParam("q","byContextAndEventType").addQueryParam("eventType",n).addQueryParam("contextType",r)),b.get(t.toString()).then((function(t){return t.elements.map((function(t){return new p.a(t.id,t.definition&&t.definition.itemId,t.definition&&t.definition.moduleId,t.definition&&t.definition.weekNumber,t.definition&&t.definition.title,t.definition&&t.definition.message,t.definition&&t.definition.dataSourceDescription,t.definition&&t.definition.action,t.definition&&t.definition.epicToShowNamespace,t.definition&&t.definition.epicToShowParameter,e.type)}))}))}(n).then((function(t){e.dispatch("CACHE_ALICE_MESSAGES",{eventType:i,messages:t})}))),e.dispatch("PUBLISH_ALICE_NOTIFICATION",{event:n})},clearAliceNotification=function(e){e.dispatch("CLEAR_ALICE_NOTIFICATION")},f=t("KMW/"),g=t("Oejf"),h=t.n(g);null===(n=f.a.addDefaults)||void 0===n||n.call(f.a,[h.a]);var v={get:function(e,t){return f.a.get("alice",e,t)},preview:function(e,t,n){return f.a.preview("alice",e,t)}};function withAliceNotification(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return{}};return function(n){var i=n.displayName||n.name,o=function(i){function WithAliceNotificationWrapper(n,r){var a;(a=i.call(this,n,r)||this).publish=function(){var t=e(a.props),n=a.context.executeAction;t?n(AliceActions_publishAliceNotification,{event:t}):n(clearAliceNotification)};var o=v.get("aliceEnabled",t(n))||u.a.isSuperuser();return a.state={enabled:o},a}r()(WithAliceNotificationWrapper,i);var o=WithAliceNotificationWrapper.prototype;return o.componentDidMount=function(){this.state.enabled&&this.publish()},o.componentDidUpdate=function(){this.state.enabled&&this.publish()},o.componentWillUnmount=function(){var e=this.state.enabled,t=this.context.executeAction;e&&t(clearAliceNotification)},o.render=function(){return a.createElement(n,Object.assign({},this.props))},WithAliceNotificationWrapper}(a.Component);return o.displayName=i+"WithAliceNotificationConnector",o.contextTypes={executeAction:s.a.func},Object(c.a)(o,n),o}}t.d(e,"a",(function(){return withAliceNotification}))},"z/Vw":function(module,exports,e){}}]);
//# sourceMappingURL=en.30.98df845088d612bdafd7.js.map